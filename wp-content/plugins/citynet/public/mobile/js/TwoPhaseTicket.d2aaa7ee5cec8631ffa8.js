(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["TwoPhaseTicket"],{"2a52":function(t,e,s){},"2fde":function(t,e,s){"use strict";s("2a52")},a7eb:function(t,e,s){},a81b:function(t,e,s){"use strict";s.r(e);var a=s("0798"),i=s("8336"),r=s("b0af"),n=s("99d9"),o=s("ac7c"),l=s("62ad"),c=s("169a"),d=s("ce7e"),u=s("cd55"),p=s("49e2"),h=s("c865"),f=s("0393"),m=s("132d"),y=s("a797"),C=s("490a"),g=s("0fd9"),b=s("b73d"),v=s("3a2f"),x=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"container mt-3"},[e(y["a"],{staticStyle:{"z-index":"50"},attrs:{value:t.pageLoading}},[e(C["a"],{staticClass:"mx-auto d-block",attrs:{indeterminate:"",size:"64"}}),e("p",{staticClass:"mt-10 text-center d-flex align-center"},[t._v(" "+t._s(t.$t("pleaseWait")+"...")+" ")])],1),e(c["a"],{attrs:{"content-class":"rules-dialog moreRadius button",width:"800"},model:{value:t.rulesAndPolicesDialog,callback:function(e){t.rulesAndPolicesDialog=e},expression:"rulesAndPolicesDialog"}},[e(r["a"],{attrs:{flat:""}},[e(n["d"],[e(g["a"],{staticClass:"d-flex justify-center ma-0",staticStyle:{width:"100%",height:"10%"}},[e(l["a"],{staticClass:"d-flex flex-column",staticStyle:{height:"fit-content"},attrs:{cols:"12"}},[e("span",{staticStyle:{"font-size":"16px","font-weight":"500"}},[t._v(t._s(t.$t("rulesAndPolicies")))])])],1)],1),e(n["c"],{staticClass:"px-5"},[e(g["a"],{staticClass:"ma-0 pt-2",staticStyle:{width:"100%",height:"70%"}},[e("p",{staticStyle:{"text-align":"justify"}}),e("p",{staticClass:"custom-scroll",staticStyle:{"text-align":"justify","max-height":"300px","overflow-y":"auto","padding-left":"15px","line-height":"28px","font-size":"14px"}},[e(r["a"],{staticClass:"mb-4 pa-3 moreRadius button",staticStyle:{background:"#fff2e9"},attrs:{elevation:"0"}},[e(n["c"],{staticClass:"pa-0"},[e("ul",{class:[t.$vuetify.rtl?"pr-5 pl-0":"pl-5 pr-0"]},[e("li",{staticClass:"my-2 warning--text",staticStyle:{"line-height":"2","text-align":"justify","font-size":"14px"}},[t._v(" "+t._s(t.$t("rule1inFPH"))+" ")]),e("li",{staticClass:"warning--text",staticStyle:{"line-height":"2","text-align":"justify","font-size":"14px"}},[t._v(" "+t._s(t.$t("rule2inFPH"))+" ")])])])],1),e("span",{staticClass:"d-block px-2",domProps:{innerHTML:t._s(t.$t("ticketConfirm"))}}),e("span",{staticClass:"d-block px-2",domProps:{innerHTML:t._s(t.$t("ticketConfirmFPH"))}}),e("span",{staticClass:"d-block px-2",domProps:{innerHTML:t._s(t.$t("ticketConfirmHotelRule"))}})],1)])],1),e(d["a"],{staticStyle:{"background-color":"#f2f2f5",height:"5%",width:"100%"}}),e(n["a"],{staticClass:"py-4"},[e(g["a"],{staticClass:"d-flex justify-end align-center",staticStyle:{width:"100%",height:"15%"}},[e(i["a"],{staticClass:"primary-btn",class:[t.$vuetify.rtl?" ml-4 mr-1":" mr-4 ml-1"],attrs:{elevation:"0",height:"42px",width:"140px","x-large":""},on:{click:function(e){t.rulesAndPolicesDialog=!1,t.rules=!0}}},[e("span",[t._v(" "+t._s(t.$t("confirm"))+" ")])])],1)],1)],1)],1),e(c["a"],{staticClass:"rounded-lg mx-auto text-center",attrs:{persistent:"","max-width":"350",color:"white"},model:{value:t.accessDenied,callback:function(e){t.accessDenied=e},expression:"accessDenied"}},[e(r["a"],{staticClass:"mx-auto pa-4 moreRadius button",attrs:{"max-width":"400",elevation:"0",color:"white"}},[e(n["c"],{staticClass:"d-flex flex-column align-center pa-0"},[e(m["a"],{staticClass:"icon-danger-triangle error--text"}),e("span",{staticClass:"body-1 my-3 black--text"},[t._v(" "+t._s(t.$t("accessDenied")))])],1),e(n["a"],{staticClass:"justify-center"},[e(i["a"],{staticClass:"moreRadius button",attrs:{width:"45%",height:"40px",depressed:"",dark:"",color:"buttons"},on:{click:t.goToHomePage}},[t._v(t._s(t.$t("backToHome")))])],1)],1)],1),t._l(t.dialogs,(function(s,a){return e("div",{key:a},[e(s,{tag:"component",attrs:{currencyToPay:t.currencyToPay,currencyConvert:t.currencyConvert,showCurrency:t.showCurrency,finalPrice:t.finalPrice,accountId:t.accountId,contractNo:t.contractNo,addNewCreditDialog:t.addNewCreditDialog,addNewWalletDialog:t.addNewWalletDialog},on:{closeDialog:function(e){return t.closeDialog(a)}}})],1)})),e(g["a"],[t.user&&!t.accessDenied?e("automationUserInfo",{staticClass:"mb-2 pb-0"}):t._e()],1),t.pageLoading||!t.user||t.accessDenied?t._e():e(g["a"],[t.alertText?e(r["a"],{staticClass:"mt-4 mx-3 mb-n4 pa-3 moreRadius button w-100",style:"green"==t.alertColor?{background:"#e5f7f3",border:" 2px solid #bdeae0"}:{background:"#fff2e9",border:" 2px solid #ffdac1"},attrs:{elevation:"0"}},[e(n["d"],{staticClass:"py-0 px-1"},[e("i",{staticClass:"icon-info-circle icon-20",class:`${t.alertColor}--text ${t.$vuetify.rtl?"pl-2":"pr-2"}`}),e("span",{class:t.alertColor+"--text",staticStyle:{"font-size":"14px","font-weight":"500"}},[t._v(t._s(t.$t("attention")))])]),e(n["c"],{staticClass:"py-0 body-1"},[e("span",{class:t.alertColor+"--text px-4",staticStyle:{"line-height":"2","text-align":"justify"}},[t._v(" "+t._s(t._f("simplePersian")(t.alertText,t.$i18n.locale))+" ")])])],1):t._e(),e(l["a"],{attrs:{cols:"12"}},[e("div",{staticClass:"d-flex align-start mt-6"},[e("i",{staticClass:"icon-receipt-2-1 black--text icon-18 pt-2"}),e("div",{staticClass:"d-block"},[e("div",{staticClass:"py-2 d-flex justify-space-between align-center",class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-1 black--text font-weight-500"},[t._v(t._s(t.$t("purchaseInfo")))]),e("span",{class:[t.$vuetify.rtl?" mr-auto":" ml-auto"]},[e("span",{staticClass:"body-2"},[t._v(t._s(t.$t("contractNo")))]),t._v(": "+t._s(t.contractNo))])]),e("div",{staticClass:"body-2 grey--text",class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[t._v(" "+t._s(t.$t("passengerDetailesSub"))+" ")])])]),e(f["a"],{staticClass:"services-expansion mt-5",attrs:{multiple:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},[t._l(t.groupedServices.flight,(function(s,a){return e(u["a"],{key:a+1,staticStyle:{"background-color":"transparent"}},[e(h["a"],{attrs:{"expand-icon":"icon-chevron-down icon-18 white--text px-2"}},[e("span",{staticClass:"d-flex align-center justify-space-between"},[e("span",{staticClass:"d-flex"},[e("i",{staticClass:"icon-Flight white--text icon-20",class:[t.$vuetify.rtl?" pl-3":" pr-3"]}),e("span",{staticClass:"d-flex align-center font-weight-bold"},[t._v(" "+t._s(t.$t("flight"))+" ")])]),e("div",{staticClass:"d-flex"},t._l(s.OriginDestinationInformation.OriginDestinationOption,(function(a,i){return e("div",{key:i,staticClass:"d-flex align-center body-2",class:s.OriginDestinationInformation.OriginDestinationOption.length>1&&i<s.OriginDestinationInformation.OriginDestinationOption.length-1?t.$vuetify.rtl?" ml-3":" mr-3":""},[t._v(" "+t._s(a.OriginLocation)+" "),e("i",{staticClass:"icon-flight-simple white--text icon-20 px-1"}),t._v(" "+t._s(a.DestinationLocation)+" ")])})),0)])]),e(p["a"],[e(r["a"],{staticClass:"pt-2",attrs:{flat:"",color:"transparent"}},[e("div",{staticClass:"theme-card pb-2 moreRadius button"},[e("travel-info",{attrs:{selected:s,searchInfo:s.searchInfo,wide:!0}})],1),e("div",{staticClass:"d-flex align-center pb-3 mt-6"},[e("i",{staticClass:"icon-users-2 black--text icon-18"}),e("div",{staticClass:"d-block"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-1 black--text font-weight-500"},[t._v(t._s(t.$t("passengers")))])])])]),t._l(s.passenger,(function(a,i){return e("div",{key:i},[e("ticketPassangers",{attrs:{passenger:a,isForeign:!0,theme:"white",service:"flight",index:i,first:0==i}}),i+1<s.passenger.length?e(d["a"],{staticClass:"mx-2",staticStyle:{"border-style":"dashed","border-color":"#ddd"}}):t._e()],1)})),e("div",{staticClass:"d-flex align-center pb-3 mt-6"},[e("i",{staticClass:"icon-dollar-square black--text icon-18"}),e("div",{staticClass:"d-flex align-center"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-1 black--text font-weight-500"},[t._v(t._s(t.$t("priceDetailsHeader")))])]),e("span",{staticClass:"body-2 green--text green-bg py-1 px-2 mx-4 rounded",class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[t._v(t._s(t.showCurrency))])])]),e("ticketPriceDetailsForFlight",{attrs:{passengers:s.passenger,ticketPrice:t.ticketPrice,currencyToPay:t.currencyToPay,totalPriceFromBook:s,currencyConvert:t.currencyConvert,showCurrency:t.showCurrency}})],2)],1)],1)})),t._l(t.groupedServices.hotel,(function(s,a){return e(u["a"],{key:100*a,staticClass:"mt-4",staticStyle:{"background-color":"transparent"}},[e(h["a"],{attrs:{"expand-icon":"icon-chevron-down icon-18 white--text px-2"}},[e("span",{staticClass:"d-flex align-center justify-space-between"},[e("span",{staticClass:"d-flex"},[e("i",{staticClass:"icon-Hotel white--text icon-20",class:[t.$vuetify.rtl?" pl-3":" pr-3"]}),e("span",{staticClass:"d-flex align-center font-weight-bold"},[t._v(" "+t._s(t.$t("hotel"))+" ")])]),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"d-flex align-center body-2"},[t._v(" "+t._s(s.HotelInfo.hasOwnProperty("CorrectName")?s.HotelInfo.CorrectName["fa"==t.$i18n.locale?"fa":"en"]:s.HotelInfo.HotelName)+" ")])])])]),e(p["a"],[e(r["a"],{staticClass:"py-5 moreRadius button bottomButton px-0",attrs:{color:"transparent",flat:""}},[e("hotel",{staticClass:"mb-6 pa-2",attrs:{result:s,fullWidth:!1,isEn:"fa"!=t.$i18n.locale}}),e("div",{staticClass:"d-flex align-center pb-3 mt-6",class:[t.$vuetify.rtl?" mr-1":" ml-1"]},[e("i",{staticClass:"icon-clipboard-text black--text icon-18"}),e("div",{staticClass:"d-flex align-center"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-1 black--text",staticStyle:{"font-weight":"500"}},[t._v(t._s(t.$t("roomRules")))])])])]),e("rules",{staticClass:"pb-4 mb-4 moreRadius button",staticStyle:{border:"1px solid #f2f2f5 !important"},attrs:{hotelItinerary:s.HotelItinerary}}),t._l(s.Rooms,(function(s,a){return[e("div",{key:"passengers/Rooms"+a,staticClass:"d-flex align-center justify-space-between pb-3",class:[t.$vuetify.rtl?" mr-1":" ml-1"]},[e("div",{staticClass:"d-flex align-center"},[e("i",{staticClass:"icon-users-2 black--text icon-18"}),e("span",{staticClass:"font-size-12 black--text font-weight-500",class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[t._v(t._s(t.$t("Rooms/Passengers")))]),e("span",{staticClass:"white--text d-flex align-center justify-center font-weight-500 font-size-12 mx-2 blue rounded-lg px-2 py-1"},[t._v(t._s(t.$t("roomCount",[t.$options.filters.toString(a,t.$i18n.locale)]))+" ")])]),e("span",{staticClass:"body-2 green--text",class:[t.$vuetify.rtl?"pl-1":"pr-1"]},[e(m["a"],{staticClass:"icon-circle-bold",attrs:{size:"8",color:"green"}}),t._v(" "+t._s(t.$t("roomSupervisor")))],1)]),e("HotelPassengersTable",{key:a,attrs:{index:a,room:s,isForeign:!0,theme:"white",service:"hotel"}})]})),e("div",{staticClass:"d-flex align-center mt-6",class:[t.$vuetify.rtl?" mr-1":" ml-1"]},[e("i",{staticClass:"icon-dollar-square black--text icon-18"}),e("div",{staticClass:"d-flex align-center"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-1 black--text",staticStyle:{"font-weight":"500"}},[t._v(t._s(t.$t("priceDetailsHeader")))])]),e("span",{staticClass:"body-2 green--text green-bg py-1 px-2 mx-4 rounded",class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[t._v(t._s(t.showCurrency))])])]),e("ticketPriceDetailsForHotel",{attrs:{currencyToPay:t.currencyToPay,totalPriceFromBook:t.bookResponse,currencyConvert:t.currencyConvert,showCurrency:t.showCurrency,selected:s.Rooms}})],2)],1),t.cnLodash.isEmpty(s.TravelInfo)?t._e():e("TicketTravelInfo",{attrs:{travelInfo:s.TravelInfo}})],1)})),t._l(t.groupedServices.tour,(function(s,a){return e(u["a"],{key:1001*a,staticClass:"mt-4"},[e(h["a"],{attrs:{"expand-icon":"icon-chevron-down icon-18 white--text px-4"}},[e("span",{staticClass:"d-flex align-center justify-space-between"},[e("span",{staticClass:"d-flex"},[e("i",{staticClass:"icon-Tour white--text icon-20",class:[t.$vuetify.rtl?" pl-3":" pr-3"]}),e("span",{staticClass:"d-flex align-center font-weight-bold"},[t._v(" "+t._s(t._f("simplePersian")(`${t.$t("tourOf",[s.TourInfo.HotelInfo.reduce((t,e)=>t+(t?" + ":"")+e.CityName,"")])} ${t.stayNights(s.TourInfo.HotelInfo[0].CheckInDate.substring(0,10),s.TourInfo.HotelInfo[s.TourInfo.HotelInfo.length-1].CheckOutDate.substring(0,10))}`,t.$i18n.locale))+" ")])])])]),e(p["a"],[e(r["a"],{staticClass:"theme-card pa-5 moreRadius button",attrs:{flat:""}},[e("tour-hotel",{attrs:{result:s.TourInfo,fullWidth:!0,isEn:"fa"!=t.$i18n.locale}}),s.TourInfo.HotelInfo[0].Facility?e("div",{staticClass:"font-size-12 py-3 moreRadius button blue-bg-light my-4 mx-4",attrs:{text:""}},[e("div",{staticClass:"px-3 py-1 blue--text"},t._l(s.TourInfo.HotelInfo[0].Facility.split("\r\n"),(function(s,a){return e("span",{directives:[{name:"show",rawName:"v-show",value:s,expression:"rule"}],key:"rule"+a,staticClass:"w-100"},[t._v(" "+t._s(t._f("simplePersian")(s,t.$i18n.locale))+" ")])})),0)]):t._e(),e("DataSection",{staticClass:"py-5 w-100 px-3",attrs:{result:s.TourInfo,flightType:s.TourInfo.OriginDestinationInformation.OriginDestinationOption.length>1?"twoWay":"oneWay",thin:!0,searchInfo:{OriginDestinationInformations:s.TourInfo.OriginDestinationInformation.OriginDestinationOption}}}),e("div",{staticClass:"d-flex align-center pb-3 px-4 mt-6",class:[t.$vuetify.rtl?" mr-1":" ml-1"]},[e("i",{staticClass:"icon-clipboard-text black--text icon-18"}),e("div",{staticClass:"d-flex align-center"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-1 black--text",staticStyle:{"font-weight":"500"}},[t._v(t._s(t.$t("rules")))])])])]),e("tour-rules",{staticClass:"px-4 pb-4 moreRadius button",attrs:{result:s.TourInfo}}),e("div",{staticClass:"d-flex align-center pb-3 px-4 mt-5",class:[t.$vuetify.rtl?" mr-1":" ml-1"]},[e("i",{staticClass:"icon-users-2 black--text icon-18"}),e("div",{staticClass:"d-block"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-2 black--text",staticStyle:{"font-weight":"500"}},[t._v(t._s(t.$t("passengers")))])])])]),e("passengersTableForFlight",{attrs:{passengers:s.Passengers}}),e("div",{staticClass:"d-flex align-center pb-3 px-4 mt-6",class:[t.$vuetify.rtl?" mr-1":" ml-1"]},[e("i",{staticClass:"icon-dollar-square black--text icon-18"}),e("div",{staticClass:"d-flex align-center"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-1 black--text",staticStyle:{"font-weight":"500"}},[t._v(t._s(t.$t("priceDetailsHeader")))])]),e("span",{staticClass:"body-2 green--text green-bg py-1 px-2 mx-4 rounded",class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[t._v(t._s(t.showCurrency))])])]),e("ticketPriceDetailsForTour",{attrs:{passengers:s.Passengers,ticketPrice:t.ticketPrice,currencyToPay:t.currencyToPay,totalPriceFromBook:s.TourInfo,currencyConvert:t.currencyConvert,roomCount:s.TourInfo.HotelInfo[0].Rooms.length,showCurrency:t.showCurrency,showExtraPriceMsg:!0}})],1)],1)],1)})),t._l(t.groupedServices.cip,(function(s,a){return e(u["a"],{key:"cip"+a,staticClass:"mt-4",staticStyle:{background:"transparent"}},[e(h["a"],{staticClass:"px-2",attrs:{"expand-icon":""}},[e("span",{staticClass:"d-flex align-center justify-space-between"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"d-flex align-center px-2 body-2"},[t._v(" "+t._s(t._f("simplePersian")(t.getCipTitleLang(s),t.$i18n.locale))+" ")])])])]),e(p["a"],[e(r["a"],{staticClass:"py-3 px-1 moreRadius button",attrs:{color:"transparent",flat:""}},[e("div",{staticClass:"theme-card pb-2 moreRadius button"},[e("cipsSingleResult",{attrs:{currencyConvert:t.currencyConvert,result:s,currencyAbbr:t.currencyToPay,index:a,hidePriceSection:!0,hideExpansions:!0}}),e("div",{staticClass:"mx-5 font-weight-500 mb-2"},[t._v(" "+t._s(t.$t("DescriptionAndRules"))+" ")]),e("cip-descriptions",{staticClass:"mx-5 mb-5",attrs:{result:s}}),e("div",{staticClass:"mx-5 font-weight-500 mb-2"},[t._v(" "+t._s(t.$t("rules"))+" ")]),e("cip-rules",{staticClass:"mx-5 mb-5",attrs:{result:s}})],1),e("div",{staticClass:"d-flex align-center pb-3 mt-5"},[e("i",{staticClass:"icon-flight-simple black--text icon-20"}),e("div",{staticClass:"d-flex align-center"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-1 black--text",staticStyle:{"font-weight":"500"}},[t._v(t._s(t.$t("travelInformation")))])])])]),e("FlightInfoTable",{staticClass:"w-100 theme-card moreRadius button",attrs:{flightInfo:s.FlightInfo,flightType:s.CipInfo.FlightType.toLowerCase(),tripType:s.CipInfo.TripType.toLowerCase(),lang:t.$i18n.locale}}),e("div",{staticClass:"d-flex align-center pb-3 mt-5"},[e("i",{staticClass:"icon-users-2 black--text icon-18"}),e("div",{staticClass:"d-block"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-2 black--text font-weight-500"},[t._v(t._s(t.$t("passengers")))])])])]),t._l(s.passenger,(function(a,i){return e("div",{key:i},[e("ticketPassangers",{attrs:{passenger:a,isForeign:!0,theme:"white",currency:"IRR",service:t.$route.name,isExtraService:"attendant"==s.CipInfo.CipService||t.$route.query.onlyExtraService,index:i,first:0==i}}),i+1<s.passenger.length?e(d["a"],{staticClass:"mx-2",staticStyle:{"border-style":"dashed","border-color":"#ddd"}}):t._e()],1)})),e("div",{staticClass:"d-flex align-center pb-3 mt-5"},[e("i",{staticClass:"icon-dollar-square black--text icon-18"}),e("div",{staticClass:"d-flex align-center"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-2 black--text font-weight-500"},[t._v(t._s(t.$t("priceDetailsHeader")))])]),e("span",{staticClass:"caption green--text green-bg py-1 px-2 mx-4 rounded",class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[t._v(t._s(t.showCurrency))])])]),e("ticketPriceDetailsForCip",{staticClass:"w-100",attrs:{theme:"white",passengers:s.passenger,currencyToPay:t.currencyToPay,totalPriceFromBook:s,currencyConvert:t.currencyConvert,showCurrency:t.showCurrency}}),s.ExtraService.length?e("div",{staticClass:"d-flex align-center pb-3 mt-5"},[e("i",{staticClass:"icon-layer black--text icon-18"}),e("div",{staticClass:"d-flex align-center"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-1 black--text",staticStyle:{"font-weight":"500"}},[t._v(t._s(t.$t("extraServices")))])])])]):t._e()],2)],1)],1)})),t._l(t.groupedServices.floatflight,(function(s,a){return e(u["a"],{key:a+1,staticClass:"mt-4"},[e(h["a"],{attrs:{"expand-icon":"icon-chevron-down icon-18 white--text px-4"}},[e("span",{staticClass:"d-flex align-center justify-space-between"},[e("span",{staticClass:"d-flex"},[e("i",{staticClass:"icon-Flight white--text icon-20",class:[t.$vuetify.rtl?" pl-3":" pr-3"]}),e("span",{staticClass:"d-flex align-center font-weight-bold"},[t._v(" "+t._s(t.$t("floatflight"))+" ")])]),e("div",{staticClass:"d-flex"},t._l(s.OriginDestinationInformation.OriginDestinationOption,(function(s,a){return e("div",{key:a,staticClass:"d-flex align-center px-5 body-2"},[t._v(" "+t._s(s.OriginLocation)+" "),e("i",{staticClass:"icon-flight-simple white--text icon-20 px-3"}),t._v(" "+t._s(s.DestinationLocation)+" ")])})),0)])]),e(p["a"],[e(r["a"],{staticClass:"pt-2 pb-4",attrs:{flat:""}},[e("travel-info",{attrs:{selected:s,wide:!0}}),e("div",{staticClass:"d-flex align-center pb-3 px-4",class:[t.$vuetify.rtl?" mr-1":" ml-1"]},[e("i",{staticClass:"icon-users-2 black--text icon-18"}),e("div",{staticClass:"d-block"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-2 black--text",staticStyle:{"font-weight":"500"}},[t._v(t._s(t.$t("passengers")))])])])]),e("passengersTableForFlight",{attrs:{passengers:s.passenger}}),e("div",{staticClass:"d-flex align-center pb-3 px-4 mt-6",class:[t.$vuetify.rtl?" mr-1":" ml-1"]},[e("i",{staticClass:"icon-dollar-square black--text icon-18"}),e("i",{staticClass:"icon-dollar-square black--text icon-18"}),e("div",{staticClass:"d-flex align-center"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-1 black--text",staticStyle:{"font-weight":"500"}},[t._v(t._s(t.$t("priceDetailsHeader")))])]),e("span",{staticClass:"body-2 green--text green-bg py-1 px-2 mx-4 rounded",class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[t._v(t._s(t.showCurrency))])])]),e("ticketPriceDetailsForFlight",{attrs:{passengers:s.passenger,ticketPrice:t.ticketPrice,currencyToPay:t.currencyToPay,totalPriceFromBook:s,currencyConvert:t.currencyConvert,showCurrency:t.showCurrency}})],1)],1)],1)})),t._l(t.groupedServices.floathotel,(function(s,a){return e(u["a"],{key:100*a,staticClass:"mt-4"},[e(h["a"],{attrs:{"expand-icon":"icon-chevron-down icon-18 white--text px-4"}},[e("span",{staticClass:"d-flex align-center justify-space-between"},[e("span",{staticClass:"d-flex"},[e("i",{staticClass:"icon-Hotel white--text icon-20",class:[t.$vuetify.rtl?" pl-3":" pr-3"]}),e("span",{staticClass:"d-flex align-center font-weight-bold"},[t._v(" "+t._s(t.$t("floathotel"))+" ")])]),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"d-flex align-center px-5 body-2"},[t._v(" "+t._s(s.HotelInfo.CorrectName["fa"==t.$i18n.locale?"fa":"en"])+" ")])])])]),e(p["a"],[e(r["a"],{staticClass:"theme-card pa-5 moreRadius button",attrs:{flat:""}},[e("hotel",{attrs:{result:s,fullWidth:!0,isEn:"fa"!=t.$i18n.locale}}),t._l(s.Rooms,(function(s,a){return[e("div",{key:"passengers/Rooms"+a,staticClass:"d-flex align-center pb-3 px-4 mt-6",class:[t.$vuetify.rtl?" mr-1":" ml-1"]},[e("i",{staticClass:"icon-users-2 black--text icon-18"}),e("div",{staticClass:"d-flex align-center"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-1 black--text",staticStyle:{"font-weight":"500"}},[t._v(t._s(t.$t("passengers/Rooms")))])]),e("span",{staticClass:"body-2 green--text green-bg py-1 px-2 mx-4 rounded",class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e(m["a"],{staticClass:"icon-circle-bold",attrs:{size:"8",color:"green"}}),t._v(" "+t._s(t.$t("roomSupervisor")))],1)])]),e("passengersTableForHotelAll",{key:a,attrs:{index:a,room:s}})]})),e("div",{staticClass:"d-flex align-center pb-3 px-4 mt-6",class:[t.$vuetify.rtl?" mr-1":" ml-1"]},[e("i",{staticClass:"icon-clipboard-text black--text icon-18"}),e("div",{staticClass:"d-flex align-center"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-1 black--text",staticStyle:{"font-weight":"500"}},[t._v(t._s(t.$t("roomRules")))])])])]),e("div",{staticClass:"d-flex align-center pb-3 px-4 mt-6",class:[t.$vuetify.rtl?" mr-1":" ml-1"]},[e("i",{staticClass:"icon-dollar-square black--text icon-18"}),e("div",{staticClass:"d-flex align-center"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-1 black--text",staticStyle:{"font-weight":"500"}},[t._v(t._s(t.$t("priceDetailsHeader")))])]),e("span",{staticClass:"body-2 green--text green-bg py-1 px-2 mx-4 rounded",class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[t._v(t._s(t.showCurrency))])])]),e("ticketPriceDetailsForHotel",{attrs:{currencyToPay:t.currencyToPay,totalPriceFromBook:t.bookResponse,currencyConvert:t.currencyConvert,showCurrency:t.showCurrency,selected:s.Rooms}})],2)],1)],1)})),t._l(t.groupedServices.insurance,(function(s,a){return e(u["a"],{key:"insurance"+a,staticClass:"mt-4",staticStyle:{background:"transparent"}},[e(h["a"],{attrs:{"expand-icon":"icon-chevron-down icon-18 white--text px-4"}},[e("span",{staticClass:"d-flex align-center justify-space-between"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"d-flex align-center px-0 body-2"},[t._v(" "+t._s(t.$t("nationalInsurance"))+" "+t._s(t._f("simplePersian")(t.getInsuranceTitleLang(s),t.$i18n.locale))+" ")])])])]),e(p["a"],[e(r["a"],{staticClass:"py-3 px-1 moreRadius button",attrs:{color:"transparent",flat:""}},[e("div",{staticClass:"theme-card pb-0 moreRadius button"},[e("insurancesSingleResult",{attrs:{currencyConvert:t.currencyConvert,result:s,currencyAbbr:t.currencyToPay,index:a,hidePriceSection:!0,hideExpansions:!1,countryName:!1}})],1),e("div",{staticClass:"d-flex align-center pb-3 mt-5"},[e("i",{staticClass:"icon-users-2 black--text icon-18"}),e("div",{staticClass:"d-block"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-2 black--text font-weight-500"},[t._v(t._s(t.$t("passengers")))])])])]),t._l(s.passenger,(function(a,i){return e("div",{key:i},[e("ticketPassangers",{attrs:{passenger:a,isForeign:!0,theme:"white",currency:"IRR",service:t.$route.name,index:i,first:0==i}}),i+1<s.passenger.length?e(d["a"],{staticClass:"mx-2",staticStyle:{"border-style":"dashed","border-color":"#ddd"}}):t._e()],1)}))],2)],1)],1)}))],2),e("div",{staticClass:"d-flex align-center pb-3 mt-6"},[e("i",{staticClass:"icon-dollar-square black--text icon-18"}),e("div",{staticClass:"d-flex align-center"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-1 black--text font-weight-500"},[t._v(t._s(t.$t("bill")))])]),e("span",{staticClass:"body-2 green--text green-bg py-1 px-2 mx-4 rounded",class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[t._v(t._s(t.showCurrency))])])]),e("bill",{attrs:{currencyToPay:t.currencyToPay,totalPriceFromBook:t.bookResponse,currencyConvert:t.currencyConvert,showCurrency:t.showCurrency,selected:t.cart,extraServices:t.extraServices}}),t.buyers.length?e("div",{staticClass:"d-flex align-center pb-3 mt-6"},[e("i",{staticClass:"icon-sms-tracking black--text icon-18"}),e("div",{staticClass:"d-flex align-center"},[e("div",{class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[e("span",{staticClass:"body-1 black--text font-weight-500"},[t._v(t._s(t.$t("contactData")))])]),e("span",{staticClass:"body-2 green--text green-bg py-1 px-2 mx-4 rounded",class:[t.$vuetify.rtl?"pr-2":"pl-2"]},[t._v(t._s(t.$t("notificationsOnly")))])])]):t._e(),t.buyers.length?e(r["a"],{staticClass:"mt-3 pa-5 moreRadius button shadowAndRadius"},[e(g["a"],{staticClass:"px-3"},[t._l(t.buyers,(function(s){return[e(l["a"],{key:"email-"+s.index,staticClass:"py-0",attrs:{cols:"6"}},[e("div",{staticClass:"body-2 grey--text mt-1"},[t._v(" "+t._s(t.$t("email"))+" ")]),e("div",{staticClass:"body-1 black--text pt-2"},[t._v(" "+t._s(s.email)+" ")])]),e(l["a"],{key:"mobile-"+s.index,staticClass:"py-0",attrs:{cols:"6"}},[e("div",{staticClass:"body-2 grey--text mt-1"},[t._v(" "+t._s(t.$t("mobile"))+" ")]),e("div",{staticClass:"body-1 black--text pt-2"},[t._v(" "+t._s(s.phoneNumber)+" ")])])]}))],2)],1):t._e(),t.twoPhaseDataContract?[e("Notice",{attrs:{twoPhaseTicket:t.twoPhaseDataContract,twoPhaseDataContractDate:t.twoPhaseDataContractDate,twoPhaseDataContractDateUTC:t.twoPhaseDataContractDateUTC,referenceId:t.referenceId}}),e(r["a"],{staticClass:"mt-5 pt-2 pa-1 payment-methods-accordion moreRadius button shadowAndRadius"},[e("div",{staticClass:"pa-1"},[e("div",{staticClass:"d-flex align-start"},[e("i",{staticClass:"icon-wallet-check black--text"}),e("div",{staticClass:"px-1"},[e("span",{staticClass:"px-2 d-block"},[t._v(t._s(t.$t("HowToCompleteReservation")))])])]),e("span",{staticClass:"body-2 grey--text pt-2 d-block px-2"},[t._v(t._s(t.$t("paymentMethodsTxt")))]),e(f["a"],{staticClass:"pt-5",attrs:{multiple:""},model:{value:t.paymentMethodsPanel,callback:function(e){t.paymentMethodsPanel=e},expression:"paymentMethodsPanel"}},[t._l(t.paymentMethods,(function(s,a){return e(u["a"],{key:a,staticClass:"my-1",class:s.goToAgency?"d-none":""},[e(h["a"],{staticClass:"pa-2"},[e("div",[e(m["a"],{class:`icon-${s.icon} icon-18 black--text`}),e("span",{staticClass:"px-2"},[t._v(t._s(s.title))])],1)]),e(p["a"],[e(s.component,{tag:"component"})],1)],1)})),t.goToAgency?t._e():e(u["a"],{staticClass:"my-1"},[e(h["a"],{staticClass:"pa-2"},[e("div",[e(m["a"],{staticClass:"icon-wallet-check icon-18 black--text"}),e("span",{staticClass:"px-2"},[t._v(t._s(t.$t("thirdLevelTitle")))])],1)]),e(p["a"],{staticClass:"px-2 thirdLevel"},[e("div",{staticClass:"body-1 black--text px-0 pt-0 mt-5",staticStyle:{"font-weight":"500"}},[t._v(" "+t._s(t.$t("paymentType"))+" ")]),e("span",{staticClass:"d-block caption grey--text px-0 pt-1 pb-0"},[t._v(t._s(t.$t("firstHeaderTxt")))]),e("div",{staticClass:"d-flex align-center mt-3"},[e("span",{staticClass:"theme-card pa-2 rounded-lg"},[e("span",[t._v(t._s(t.$t("contractNo")))]),t._v(": "+t._s(t.contractNo))]),e("CurrenciesMenuInticket",{staticClass:"mr-auto CurrenciesMenuInticket"})],1),e(a["a"],{staticClass:"body-2 mx-0 pa-2 mt-4",staticStyle:{width:"fit-content"},attrs:{text:"",border:"left",color:"warning"}},[e("span",{class:t.$vuetify.rtl?"pr-1":"pl-1"},[t._v(t._s(t.$t("budgetForUser",[t.selectedUser.DefaultUsername?t.selectedUser.DefaultUsername:t.selectedUser.username,t.selectedUser.DefaultUsername?t.selectedUser.DefaultUsername:t.selectedUser.name&&" "!=t.selectedUser.name&&""!=t.selectedUser.name?t.selectedUser.name:"--"])))])]),e(g["a"],{staticClass:"mx-1"},[t.hideCredit?t._e():e(l["a"],{attrs:{cols:"12"}},[e(r["a"],{staticClass:"shadowAndRadius pb-4 pt-0"},[e("div",{staticClass:"d-flex grey-header justify-space-between theme-element-bg py-2"},[e("span",{staticClass:"d-flex pt-1"},[e("span",{staticClass:"body-1",class:[t.$vuetify.rtl?" mr-3":" ml-3"],staticStyle:{"font-weight":"500"}},[t._v(" "+t._s(t.$t("credit"))+" ")]),e(v["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e("i",t._g(t._b({staticClass:"icon-info-circle icon-16 grey--text px-1"},"i",a,!1),s))]}}],null,!1,1924892999)},[e("span",{staticClass:"body-2"},[t._v(t._s(t.$t("useLedegerSub"))+" ")])])],1),e("div",{staticClass:"d-flex",class:t.$vuetify.rtl?"ml-2":"mr-2"},[e(i["a"],{staticClass:"px-0",attrs:{text:"",width:"30","min-width":"30","max-width":"30",height:"27",disabled:t.twoPhaseExpired},on:{click:t.addNewCredit}},[e(m["a"],{staticClass:"addNewCredit icon-add icon-20 px-0 black--text",attrs:{ripple:!1}})],1),e(i["a"],{staticClass:"px-0",attrs:{text:"",width:"30","min-width":"30","max-width":"30",height:"27",disabled:t.twoPhaseExpired},on:{click:t.getCredit}},[e(m["a"],{staticClass:"getCredit icon-rotate-right-2 icon-18 px-2 black--text",attrs:{ripple:!1}})],1)],1)]),t.contractBalanceVisible?e("div",{staticClass:"body-content d-flex align-center justify-space-between mt-0"},[e(b["a"],{staticClass:"mt-0 mx-2",attrs:{disabled:0===t.userCreditContractAmount||t.twoPhaseExpired,color:"buttons",flat:"",dense:"",small:"","hide-details":"",ripple:!1},on:{change:function(e){return t.isOnCredit()}},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"white-space-nowrap font-size-12 black--text"},[t._v(t._s(t.$t("balanceContract")))])]},proxy:!0}],null,!1,3782018871),model:{value:t.contractBalanceCredit,callback:function(e){t.contractBalanceCredit=e},expression:"contractBalanceCredit"}}),e("span",{staticClass:"black--text d-flex align-center px-2"},[t._v(" "+t._s(t._f("simplePersian")(t._f("price")(t._f("round")(t.userCreditContractAmount,t.currencyToPay)),t.$i18n.locale))+" "+t._s(t.showCurrency)+" ")])],1):t._e(),e("div",{staticClass:"body-content d-flex align-center justify-space-between mt-0"},[e(b["a"],{staticClass:"mt-0 mx-2",attrs:{disabled:0===t.userCredit||t.twoPhaseExpired,color:"buttons",flat:"",dense:"","hide-details":"",small:"",ripple:!1},on:{change:function(e){return t.isOnCredit()}},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"white-space-nowrap font-size-12 mx-n1 black--text"},[t._v(t._s(t.$t("balance")))])]},proxy:!0}],null,!1,957934818),model:{value:t.normalBalanceCredit,callback:function(e){t.normalBalanceCredit=e},expression:"normalBalanceCredit"}}),e("span",{staticClass:"black--text d-flex align-center px-2"},[t._v(" "+t._s(t._f("simplePersian")(t._f("price")(t._f("round")(t.userCredit,t.currencyToPay)),t.$i18n.locale))+" "+t._s(t.showCurrency)+" ")])],1),e("div",{staticClass:"d-flex justify-space-between mt-6"},[e("span",{staticClass:"subtitle-2 grey--text",class:[t.$vuetify.rtl?" pr-3":" pl-3"]},[t._v(" "+t._s(t.$t("LedgerDecrease"))+" ")]),0!=t.showCredit?e("span",{staticClass:"grey--text d-flex px-5"},[t._v(" "+t._s(t._f("simplePersian")(t._f("price")(t._f("round")(t.showCredit,t.currencyToPay)),t.$i18n.locale))+" "+t._s(t.showCurrency))]):e("span",{staticClass:"grey--text d-flex px-5"},[t._v(" -- ")])])])],1),t.hideWallet?t._e():e(l["a"],{attrs:{cols:"12"}},[e(r["a"],{staticClass:"shadowAndRadius pb-4 pt-0"},[e("div",{staticClass:"d-flex grey-header justify-space-between theme-element-bg py-2"},[e("span",{staticClass:"d-flex pt-1"},[e("span",{staticClass:"body-1",class:[t.$vuetify.rtl?" mr-3":" ml-3"],staticStyle:{"font-weight":"500"}},[t._v(" "+t._s(t.$t("wallet"))+" ")]),e(v["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e("i",t._g(t._b({staticClass:"icon-info-circle icon-16 grey--text px-1"},"i",a,!1),s))]}}],null,!1,1924892999)},[e("span",{staticClass:"body-2"},[t._v(t._s(t.$t("useWalletSub"))+" ")])])],1),e("div",{staticClass:"d-flex",class:t.$vuetify.rtl?"ml-2":"mr-2"},[e(i["a"],{staticClass:"px-0",attrs:{text:"",width:"30","min-width":"30","max-width":"30",height:"27",disabled:t.twoPhaseExpired},on:{click:t.addNewWallet}},[e(m["a"],{staticClass:"addNewWallet icon-add icon-20 px-0 black--text",attrs:{ripple:!1}})],1),e(i["a"],{staticClass:"px-0",attrs:{text:"",width:"30","min-width":"30","max-width":"30",height:"27",disabled:t.twoPhaseExpired},on:{click:t.getWallet}},[e(m["a"],{staticClass:"getWallet icon-rotate-right-2 icon-18 px-2 black--text",attrs:{ripple:!1}})],1)],1)]),t.contractBalanceVisible?e("div",{staticClass:"body-content d-flex align-center justify-space-between mt-0"},[e(b["a"],{staticClass:"mt-0 mx-2",attrs:{disabled:0===t.userWalletContractAmount||t.twoPhaseExpired,small:"",color:"buttons",flat:"",dense:"","hide-details":"",ripple:!1},on:{change:function(e){return t.isOnWallet()}},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"white-space-nowrap font-size-12 mx-n1 black--text"},[t._v(t._s(t.$t("balanceContract")))])]},proxy:!0}],null,!1,332388304),model:{value:t.contractBalanceWallet,callback:function(e){t.contractBalanceWallet=e},expression:"contractBalanceWallet"}}),e("span",{staticClass:"black--text d-flex align-center px-2"},[t._v(" "+t._s(t._f("simplePersian")(t._f("price")(t._f("round")(t.userWalletContractAmount,t.currencyToPay)),t.$i18n.locale))+" "+t._s(t.showCurrency)+" ")])],1):t._e(),e("div",{staticClass:"body-content d-flex align-center justify-space-between mt-0"},[e(b["a"],{staticClass:"mt-0 mx-2",attrs:{disabled:0===t.userWallet||t.twoPhaseExpired,small:"",color:"buttons",flat:"",dense:"","hide-details":"",ripple:!1},on:{change:function(e){return t.isOnWallet()}},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"white-space-nowrap font-size-12 mx-n1 black--text"},[t._v(t._s(t.$t("balance")))])]},proxy:!0}],null,!1,957934818),model:{value:t.normalBalanceWallet,callback:function(e){t.normalBalanceWallet=e},expression:"normalBalanceWallet"}}),e("span",{staticClass:"black--text d-flex px-2"},[t._v(" "+t._s(t._f("simplePersian")(t._f("price")(t._f("round")(t.userWallet,t.currencyToPay)),t.$i18n.locale))+" "+t._s(t.showCurrency)+" ")])],1),e("div",{staticClass:"d-flex justify-space-between mt-6"},[e("span",{staticClass:"subtitle-2 grey--text",class:[t.$vuetify.rtl?" pr-3":" pl-3"]},[t._v(" "+t._s(t.$t("walletDecrease"))+" ")]),0!=t.showWallet?e("span",{staticClass:"grey--text d-flex px-5"},[t._v(" "+t._s(t._f("simplePersian")(t._f("price")(t._f("round")(t.showWallet,t.currencyToPay)),t.$i18n.locale))+" "+t._s(t.showCurrency))]):e("span",{staticClass:"grey--text d-flex px-5"},[t._v(" -- ")])])])],1),t.hideBank?t._e():e(l["a"],{attrs:{cols:"12"}},[e(g["a"],{staticClass:"h-100 mx-0 shadowAndRadius theme-card"},[e(l["a"],{staticClass:"d-flex grey-header align-center theme-element-bg py-0 moreRadius button topButton",attrs:{cols:"12"}},[e("span",{staticClass:"body-1 black--text d-flex pt-0",staticStyle:{"font-weight":"500"}},[t._v(t._s(t.$t("selectBank"))+" "),e(v["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e("i",t._g(t._b({staticClass:"icon-info-circle icon-16 grey--text px-1"},"i",a,!1),s))]}}],null,!1,1924892999)},[e("span",{staticClass:"body-2"},[t._v(t._s(t.$t("selectBankSub")))])])],1)]),e(l["a"],{staticClass:"pb-0",attrs:{cols:"12"}},[e("bank-select",{ref:"bankSelect",class:{"d-none":!t.showPortal},attrs:{wallet:t.normalBalanceWallet,credit:t.normalBalanceCredit,contractNo:t.contractNo,currency:t.bankCurrency,type:"ticket",label:t.$t("PaymentGateway"),disabled:!t.finalPrice||t.twoPhaseExpired,dense:!0,contractBalanceWallet:t.contractBalanceWallet,contractBalanceCredit:t.contractBalanceCredit},on:{"bank-loading":t.changeBankLoading,"handle-portals-display":t.hidePortals},model:{value:t.bank,callback:function(e){t.bank=e},expression:"bank"}}),t.showPortal?t._e():e("div",{staticClass:"grey--text text-center font-size-14 mt-3"},[t._v(" "+t._s(t.$t("noPortalsMsg"))+" ")])],1),e(l["a"],{staticClass:"pb-0 d-flex",attrs:{cols:"12"}},[t.showPortal?e(r["a"],{staticClass:"d-flex justify-space-between align-center body-2 mb-3 px-1",attrs:{width:"100%",tile:"",flat:""}},[e("span",{staticClass:"green--text body-2"},[t._v(" "+t._s(t.$t("priceToPayInPaymentGateway"))+" ")]),t.finalPrice?e("span",{staticClass:"green--text body-1 d-flex align-center",staticStyle:{"min-height":"20px","font-weight":"500"}},[t._v(t._s(t._f("simplePersian")(t._f("price")(t._f("round")(t.finalPrice,t.currencyToPay)),t.$i18n.locale))+" "),e("span",{staticClass:"body-2 px-1"},[t._v(" "+t._s(t.showCurrency)+" ")]),e("i",{staticClass:"icon-arrow-bottom icon-16"})]):e("span",{staticClass:"green--text",staticStyle:{"min-height":"20px"}},[t._v(" -- ")])]):t._e()],1)],1)],1)],1),e(l["a"],{staticClass:"px-0",attrs:{cols:"12"}},[e("div",{staticClass:"d-flex flex-column justify-end align-center"},[e("div",{staticClass:"d-flex align-center w-100 mb-2"},[e(o["a"],{staticClass:"rules-checkbox",attrs:{dense:"",ripple:!1,color:"primary"},model:{value:t.rules,callback:function(e){t.rules=e},expression:"rules"}}),t.$vuetify.rtl?e("span",{staticClass:"d-block w-100 font-size-11"},[e("a",{staticClass:"buttons--text",on:{click:function(e){t.rulesAndPolicesDialog=!0}}},[t._v(" "+t._s(t.$t("rulesAndPolicies"))+" ")]),e("span",[t._v(t._s(t.$t("rulesAndPoliciesText")))])]):e("div",{staticClass:"mt-1 mr-3 d-flex align-center mb-2",staticStyle:{"font-size":"11px"}},[t._v(" I have read "),e("span",{staticStyle:{"margin-right":"5px"}},[[e("a",{staticClass:"buttons--text",on:{click:function(e){t.rulesAndPolicesDialog=!0}}},[t._v(" rules and policies. ")])]],2)])],1),e("div",{staticClass:"d-flex justify-space-between flex-wrap w-100"},["visitor"!==t.user.roleType?e(i["a"],{staticClass:"moreRadius button px-0",attrs:{disabled:!t.rules||t.twoPhaseExpired,color:"buttons",depressed:"",width:"56",height:"56","x-small":"",outlined:""},on:{click:t.prepareTwoPhaseSMS}},[e("i",{staticClass:"icon-share"})]):t._e(),t.twoPhaseData.isTwoPhase?e(i["a"],{staticClass:"moreRadius button",style:"visitor"!==t.user.roleType?{width:"calc(100% - 65px)",maxWidth:" calc(100% - 65px) !important",minWidth:"calc(100% - 65px) !important"}:{},attrs:{disabled:!t.rules||t.twoPhaseExpired,height:"56",block:"visitor"===t.user.roleType,depressed:"",color:"buttons",outlined:""},on:{click:function(e){return t.$refs.twoPhaseConfirmationDialog.open()}}},[e("span",{staticClass:"font-weight-400 font-size-14"},[t._v(t._s(t.$t("iWillPayLater")))])]):t._e(),e(i["a"],{staticClass:"moreRadius button white--text",class:{" mt-2":t.twoPhaseData.isTwoPhase||"visitor"===t.user.roleType},style:t.twoPhaseData.isTwoPhase||"visitor"===t.user.roleType?{width:"100% !important",maxWidth:" 100% !important",minWidth:"100% !important"}:{width:"calc(100% - 65px) !important",maxWidth:" calc(100% - 65px) !important",minWidth:"calc(100% - 65px) !important"},attrs:{disabled:!t.rules||t.noBankAndBudgets||t.twoPhaseExpired,height:"56",depressed:"",color:"buttons",loading:t.ticketLoading},on:{click:t.ticketCondition}},[e("span",{staticClass:"font-weight-400 font-size-14"},[t._v(t._s(t.$t("lastCheckAndPay")))])])],1),e("span",{staticStyle:{visibility:"hidden",width:"0"}},[t._v(t._s(t.finalPrice))])])])],1)],1)],2)],1)])]:t._e(),t.twoPhaseData.isTwoPhase?e(l["a"],{attrs:{cols:"12"}},[e("div",{staticClass:"moreRadius button theme-card d-flex align-center pa-4"},[e("i",{staticClass:"icon-timer blue--text blue-bg-light pa-2 moreRadius button"}),e("div",{staticClass:"d-flex flex-column mx-2"},[e("span",[e("span",{staticClass:"blue--text font-weight-500"},[t._v(t._s(t.$t("paymentCreditTime")))]),e("span",{staticClass:"mx-2"},[t._v(" "+t._s(t._f("simplePersian")(t.twoPhaseDate[0],t.$i18n.locale))+" "+t._s(t.$t("hour2"))+" "+t._s(t._f("simplePersian")(t.twoPhaseDate[1],t.$i18n.locale))+" ")])]),e("span",{staticClass:"grey--text font-size-13 mt-1"},[t._v(t._s(t.$t("paymentCreditTimeMsg"))+" ")])])])]):t._e(),t.twoPhaseDataContract?t._e():[e("div",{staticClass:"body-1 black--text px-0 pt-0 mt-5",staticStyle:{"font-weight":"500"}},[t._v(" "+t._s(t.$t("paymentType"))+" ")]),e("span",{staticClass:"d-block caption grey--text px-0 pt-1 pb-0"},[t._v(t._s(t.$t("firstHeaderTxt")))]),e("div",{staticClass:"d-flex align-center mt-3"},[e("span",{staticClass:"theme-card py-0 px-0 rounded-lg"},[e("span",[t._v(t._s(t.$t("contractNo")))]),t._v(": "+t._s(t.contractNo))]),e("CurrenciesMenuInticket",{staticClass:"mr-auto CurrenciesMenuInticket"})],1),t.isAutomation?e(a["a"],{staticClass:"body-2 mx-0 pa-2 mt-4",staticStyle:{width:"fit-content"},attrs:{text:"",border:"left",color:"warning"}},[e("span",{class:t.$vuetify.rtl?"pr-1":"pl-1"},[t._v(t._s(t.$t("budgetForUser",[t.selectedUser.DefaultUsername?t.selectedUser.DefaultUsername:t.selectedUser.username,t.selectedUser.DefaultUsername?t.selectedUser.DefaultUsername:t.selectedUser.name&&" "!=t.selectedUser.name&&""!=t.selectedUser.name?t.selectedUser.name:"--"])))])]):t._e(),e(g["a"],{staticClass:"mx-1"},[t.hideCredit?t._e():e(l["a"],{staticClass:"px-0",attrs:{cols:12}},[e(r["a"],{staticClass:"shadowAndRadius pb-4 pt-0"},[e("div",{staticClass:"d-flex grey-header justify-space-between theme-element-bg py-2"},[e("span",{staticClass:"d-flex pt-1"},[e("span",{staticClass:"body-1",class:[t.$vuetify.rtl?" mr-3":" ml-3"],staticStyle:{"font-weight":"500"}},[t._v(" "+t._s(t.$t("credit"))+" ")]),e(v["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e("i",t._g(t._b({staticClass:"icon-info-circle icon-16 grey--text px-1"},"i",a,!1),s))]}}],null,!1,1924892999)},[e("span",{staticClass:"body-2"},[t._v(t._s(t.$t("useLedegerSub"))+" ")])])],1),e("div",{staticClass:"d-flex",class:t.$vuetify.rtl?"ml-2":"mr-2"},[e(i["a"],{staticClass:"px-0",attrs:{text:"",width:"30","min-width":"30","max-width":"30",height:"27"},on:{click:t.addNewCredit}},[e(m["a"],{staticClass:"addNewCredit icon-add icon-20 px-0 black--text",attrs:{ripple:!1}})],1),e(i["a"],{staticClass:"px-0",attrs:{text:"",width:"30","min-width":"30","max-width":"30",height:"27"},on:{click:t.getCredit}},[e(m["a"],{staticClass:"getCredit icon-rotate-right-2 icon-18 px-2 black--text",attrs:{ripple:!1}})],1)],1)]),t.contractBalanceVisible?e("div",{staticClass:"body-content d-flex align-center justify-space-between mt-0"},[e(b["a"],{staticClass:"mt-0 mx-2",attrs:{disabled:0===t.userCreditContractAmount,color:"buttons",flat:"",dense:"",small:"","hide-details":"",ripple:!1},on:{change:function(e){return t.isOnCredit()}},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"white-space-nowrap font-size-12 black--text"},[t._v(t._s(t.$t("balanceContract")))])]},proxy:!0}],null,!1,3782018871),model:{value:t.contractBalanceCredit,callback:function(e){t.contractBalanceCredit=e},expression:"contractBalanceCredit"}}),e("span",{staticClass:"black--text d-flex align-center px-2"},[t._v(" "+t._s(t._f("simplePersian")(t._f("price")(t._f("round")(t.userCreditContractAmount,t.currencyToPay)),t.$i18n.locale))+" "+t._s(t.showCurrency)+" ")])],1):t._e(),e("div",{staticClass:"body-content d-flex align-center justify-space-between mt-0"},[e(b["a"],{staticClass:"mt-0 mx-2",attrs:{disabled:0===t.userCredit,color:"buttons",flat:"",dense:"","hide-details":"",small:"",ripple:!1},on:{change:function(e){return t.isOnCredit()}},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"white-space-nowrap font-size-12 mx-n1 black--text"},[t._v(t._s(t.$t("balance")))])]},proxy:!0}],null,!1,957934818),model:{value:t.normalBalanceCredit,callback:function(e){t.normalBalanceCredit=e},expression:"normalBalanceCredit"}}),e("span",{staticClass:"black--text d-flex align-center px-2"},[t._v(" "+t._s(t._f("simplePersian")(t._f("price")(t._f("round")(t.userCredit,t.currencyToPay)),t.$i18n.locale))+" "+t._s(t.showCurrency)+" ")])],1),e("div",{staticClass:"d-flex justify-space-between mt-6"},[e("span",{staticClass:"subtitle-2 grey--text",class:[t.$vuetify.rtl?" pr-3":" pl-3"]},[t._v(" "+t._s(t.$t("LedgerDecrease"))+" ")]),0!=t.showCredit?e("span",{staticClass:"grey--text d-flex px-5"},[t._v(" "+t._s(t._f("simplePersian")(t._f("price")(t._f("round")(t.showCredit,t.currencyToPay)),t.$i18n.locale))+" "+t._s(t.showCurrency))]):e("span",{staticClass:"grey--text d-flex px-5"},[t._v(" -- ")])])])],1),t.hideWallet?t._e():e(l["a"],{staticClass:"px-0",attrs:{cols:12}},[e(r["a"],{staticClass:"shadowAndRadius pb-4 pt-0"},[e("div",{staticClass:"d-flex grey-header justify-space-between theme-element-bg py-2"},[e("span",{staticClass:"d-flex pt-1"},[e("span",{staticClass:"body-1",class:[t.$vuetify.rtl?" mr-3":" ml-3"],staticStyle:{"font-weight":"500"}},[t._v(" "+t._s(t.$t("wallet"))+" ")]),e(v["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e("i",t._g(t._b({staticClass:"icon-info-circle icon-16 grey--text px-1"},"i",a,!1),s))]}}],null,!1,1924892999)},[e("span",{staticClass:"body-2"},[t._v(t._s(t.$t("useWalletSub"))+" ")])])],1),e("div",{staticClass:"d-flex",class:t.$vuetify.rtl?"ml-2":"mr-2"},[e(i["a"],{staticClass:"px-0",attrs:{text:"",width:"30","min-width":"30","max-width":"30",height:"27"},on:{click:t.addNewWallet}},[e(m["a"],{staticClass:"addNewWallet icon-add icon-20 px-0 black--text",attrs:{ripple:!1}})],1),e(i["a"],{staticClass:"px-0",attrs:{text:"",width:"30","min-width":"30","max-width":"30",height:"27"},on:{click:t.getWallet}},[e(m["a"],{staticClass:"getWallet icon-rotate-right-2 icon-18 px-2 black--text",attrs:{ripple:!1}})],1)],1)]),t.contractBalanceVisible?e("div",{staticClass:"body-content d-flex align-center justify-space-between mt-0"},[e(b["a"],{staticClass:"mt-0 mx-2",attrs:{disabled:0===t.userWalletContractAmount,small:"",color:"buttons",flat:"",dense:"","hide-details":"",ripple:!1},on:{change:function(e){return t.isOnWallet()}},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"white-space-nowrap font-size-12 mx-n1 black--text"},[t._v(t._s(t.$t("balanceContract")))])]},proxy:!0}],null,!1,332388304),model:{value:t.contractBalanceWallet,callback:function(e){t.contractBalanceWallet=e},expression:"contractBalanceWallet"}}),e("span",{staticClass:"black--text d-flex align-center px-2"},[t._v(" "+t._s(t._f("simplePersian")(t._f("price")(t._f("round")(t.userWalletContractAmount,t.currencyToPay)),t.$i18n.locale))+" "+t._s(t.showCurrency)+" ")])],1):t._e(),e("div",{staticClass:"body-content d-flex align-center justify-space-between mt-0"},[e(b["a"],{staticClass:"mt-0 mx-2",attrs:{disabled:0===t.userWallet,small:"",color:"buttons",flat:"",dense:"","hide-details":"",ripple:!1},on:{change:function(e){return t.isOnWallet()}},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"white-space-nowrap font-size-12 mx-n1 black--text"},[t._v(t._s(t.$t("balance")))])]},proxy:!0}],null,!1,957934818),model:{value:t.normalBalanceWallet,callback:function(e){t.normalBalanceWallet=e},expression:"normalBalanceWallet"}}),e("span",{staticClass:"black--text d-flex px-2"},[t._v(" "+t._s(t._f("simplePersian")(t._f("price")(t._f("round")(t.userWallet,t.currencyToPay)),t.$i18n.locale))+" "+t._s(t.showCurrency)+" ")])],1),e("div",{staticClass:"d-flex justify-space-between mt-6"},[e("span",{staticClass:"subtitle-2 grey--text",class:[t.$vuetify.rtl?" pr-3":" pl-3"]},[t._v(" "+t._s(t.$t("walletDecrease"))+" ")]),0!=t.showWallet?e("span",{staticClass:"grey--text d-flex px-5"},[t._v(" "+t._s(t._f("simplePersian")(t._f("price")(t._f("round")(t.showWallet,t.currencyToPay)),t.$i18n.locale))+" "+t._s(t.showCurrency))]):e("span",{staticClass:"grey--text d-flex px-5"},[t._v(" -- ")])])])],1),t.hideBank?t._e():e(l["a"],{staticClass:"px-0",attrs:{cols:"12"}},[e(g["a"],{staticClass:"h-100 mx-0 shadowAndRadius theme-card"},[e(l["a"],{staticClass:"d-flex grey-header align-center theme-element-bg py-0 moreRadius button topButton",attrs:{cols:"12"}},[e("span",{staticClass:"body-1 black--text d-flex pt-0",staticStyle:{"font-weight":"500"}},[t._v(t._s(t.$t("selectBank"))+" "),e(v["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e("i",t._g(t._b({staticClass:"icon-info-circle icon-16 grey--text px-1"},"i",a,!1),s))]}}],null,!1,1924892999)},[e("span",{staticClass:"body-2"},[t._v(t._s(t.$t("selectBankSub")))])])],1)]),e(l["a"],{staticClass:"pb-0",attrs:{cols:"12"}},[e("bank-select",{ref:"bankSelect",class:{"d-none":!t.showPortal},attrs:{wallet:t.normalBalanceWallet,credit:t.normalBalanceCredit,contractNo:t.contractNo,currency:t.bankCurrency,type:"ticket",label:t.$t("PaymentGateway"),disabled:!t.finalPrice,dense:!0,contractBalanceWallet:t.contractBalanceWallet,contractBalanceCredit:t.contractBalanceCredit},on:{"bank-loading":t.changeBankLoading,"handle-portals-display":t.hidePortals},model:{value:t.bank,callback:function(e){t.bank=e},expression:"bank"}}),t.showPortal?t._e():e("div",{staticClass:"grey--text text-center font-size-14 mt-3"},[t._v(" "+t._s(t.$t("noPortalsMsg"))+" ")])],1),e(l["a"],{staticClass:"pb-0 d-flex",attrs:{cols:"12"}},[t.showPortal?e(r["a"],{staticClass:"d-flex justify-space-between align-center body-2 mb-3 px-1",attrs:{width:"100%",tile:"",flat:""}},[e("span",{staticClass:"green--text body-2"},[t._v(" "+t._s(t.$t("priceToPayInPaymentGateway"))+" ")]),t.finalPrice?e("span",{staticClass:"green--text body-1 d-flex align-center",staticStyle:{"min-height":"20px","font-weight":"500"}},[t._v(t._s(t._f("simplePersian")(t._f("price")(t._f("round")(t.finalPrice,t.currencyToPay)),t.$i18n.locale))+" "),e("span",{staticClass:"body-2 px-1"},[t._v(" "+t._s(t.showCurrency)+" ")]),e("i",{staticClass:"icon-arrow-bottom icon-16"})]):e("span",{staticClass:"green--text",staticStyle:{"min-height":"20px"}},[t._v(" -- ")])]):t._e()],1)],1)],1)],1),e(l["a"],{staticClass:"px-0",attrs:{cols:"12"}},[e("div",{staticClass:"d-flex flex-column justify-end align-center"},[e("div",{staticClass:"d-flex align-center w-100 mb-2"},[e(o["a"],{staticClass:"rules-checkbox",attrs:{dense:"",ripple:!1,color:"primary"},model:{value:t.rules,callback:function(e){t.rules=e},expression:"rules"}}),t.$vuetify.rtl?e("span",{staticClass:"d-block w-100 font-size-11"},[e("a",{staticClass:"buttons--text",on:{click:function(e){t.rulesAndPolicesDialog=!0}}},[t._v(" "+t._s(t.$t("rulesAndPolicies"))+" ")]),e("span",[t._v(t._s(t.$t("rulesAndPoliciesText")))])]):e("div",{staticClass:"mt-1 mr-3 d-flex align-center mb-2",staticStyle:{"font-size":"11px"}},[t._v(" I have read "),e("span",{staticStyle:{"margin-right":"5px"}},[[e("a",{staticClass:"buttons--text",on:{click:function(e){t.rulesAndPolicesDialog=!0}}},[t._v(" rules and policies. ")])]],2)])],1),e("div",{staticClass:"d-flex justify-space-between flex-wrap w-100"},["visitor"!==t.user.roleType?e(i["a"],{staticClass:"moreRadius button px-0",attrs:{color:"buttons",depressed:"",width:"56",height:"56","x-small":"",outlined:""},on:{click:t.prepareTwoPhaseSMS}},[e("i",{staticClass:"icon-share"})]):t._e(),t.twoPhaseData.isTwoPhase?e(i["a"],{staticClass:"moreRadius button",style:"visitor"!==t.user.roleType?{width:"calc(100% - 65px)",maxWidth:" calc(100% - 65px) !important",minWidth:"calc(100% - 65px) !important"}:{},attrs:{disabled:!t.rules,height:"56",block:"visitor"===t.user.roleType,depressed:"",color:"buttons",outlined:""},on:{click:function(e){return t.$refs.twoPhaseConfirmationDialog.open()}}},[e("span",{staticClass:"font-weight-400 font-size-14"},[t._v(t._s(t.$t("iWillPayLater")))])]):t._e(),e(i["a"],{staticClass:"moreRadius button white--text",class:{" mt-2":t.twoPhaseData.isTwoPhase||"visitor"===t.user.roleType},style:t.twoPhaseData.isTwoPhase||"visitor"===t.user.roleType?{width:"100% !important",maxWidth:" 100% !important",minWidth:"100% !important"}:{width:"calc(100% - 65px) !important",maxWidth:" calc(100% - 65px) !important",minWidth:"calc(100% - 65px) !important"},attrs:{disabled:!t.rules||t.noBankAndBudgets,height:"56",depressed:"",color:"buttons",loading:t.ticketLoading},on:{click:t.ticketCondition}},[e("span",{staticClass:"font-weight-400 font-size-14"},[t._v(t._s(t.$t("lastCheckAndPay")))])])],1),e("span",{staticStyle:{visibility:"hidden",width:"0"}},[t._v(t._s(t.finalPrice))])])])]],2)],1)],2)},w=[],_=s("60a3"),k=s("07fa"),I=s("b0f2"),P=s("70c5"),$=s("cc08"),S=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"body-2 moreRadius button pb-2",class:["white"==t.theme?"theme-card":"theme-element-bg-light"]},[e(g["a"],{staticClass:"mx-0"},[e(l["a"],{staticClass:"d-flex align-center px-0",attrs:{cols:"12"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"68",viewBox:"0 0 20 68",fill:"none"}},[e("path",{attrs:{d:"M19.9531 0C19.9531 18.3891 0.000627178 7.78072 0.000626442 24.6202L0.000625704 41.5C0.000624968 58.3287 19.9531 46.6 19.9531 65C19.9531 83.4 19.9531 0 19.9531 0Z",fill:"white"==t.theme?"#F5F6FA":"#FFFFFF"}})]),e("span",{class:t.$vuetify.rtl?"mr-n4 ml-3":"ml-n4 mr-3"},[t._v(t._s(t._f("simplePersian")(t.index+1,t.$i18n.locale)))]),e("span",{staticClass:"mx-2"},[e("div",{staticClass:"grey--text text--darken-1"},[t._v(t._s(t.$t("fullName")))]),e("div",{staticClass:"pt-1"},[t._v(" "+t._s(t.passenger.PersonName.GivenName)+" "+t._s(t.passenger.PersonName.Surname)+" ")])])]),e(l["a"],{attrs:{cols:"6"}},[e("div",{staticClass:"grey--text text--darken-1"},[t._v(t._s(t.$t("ages")))]),e("div",{staticClass:"pt-1"},[t._v(" "+t._s(t._f("human")(t.passenger.PassengerTypeCode))+" ")])]),e(l["a"],{attrs:{cols:"6"}},[e("div",{staticClass:"grey--text text--darken-1"},[t._v(t._s(t.$t("gender")))]),e("div",{staticClass:"pt-1"},[t._v(" "+t._s(t.$t(t.passenger.PersonName.NamePrefix))+" ")])]),t.isExtraService||t.passenger.extraSrv?t._e():e(l["a"],{attrs:{cols:"6"}},[e("div",{staticClass:"grey--text text--darken-1"},[t._v(t._s(t.$t("nationality")))]),e("div",{staticClass:"pt-1 align-center"},[e("img",{staticClass:"ml-1",staticStyle:{"vertical-align":"sub"},attrs:{width:"15",src:t.flagUrl(t.passenger.Document.DocIssueCountry.toLowerCase())}}),t._v(" "+t._s(t.passenger.Document.DocIssueCountry)+" ")])]),t.isExtraService||t.passenger.extraSrv?t._e():e(l["a"],{attrs:{cols:"6"}},[e("div",{staticClass:"grey--text text--darken-1"},[t._v(t._s(t.$t("nationalId")))]),"IR"!=t.passenger.Document.DocIssueCountry?e("div",{staticClass:"pt-1"},[t._v(" -- ")]):e("div",{staticClass:"pt-1"},[t._v(" "+t._s(t._f("simplePersian")(t.passenger.NationalId,t.$i18n.locale))+" ")])]),"IR"==t.passenger.Document.DocIssueCountry&&!t.isForeign||t.isExtraService||t.passenger.extraSrv?t._e():e(l["a"],{attrs:{cols:"6"}},[e("div",{staticClass:"grey--text text--darken-1"},[t._v(t._s(t.$t("gregBirthDate")))]),e("div",{staticClass:"pt-1"},[t._v(" "+t._s(t.passenger.BirthDate.split("-").join("/"))+" ")])]),"IR"!=t.passenger.Document.DocIssueCountry||t.isExtraService||t.passenger.extraSrv?t._e():e(l["a"],{attrs:{cols:"6"}},[e("div",{staticClass:"grey--text text--darken-1"},[t._v(" "+t._s(t.$t("persianBirthDate"))+" ")]),e("div",{staticClass:"pt-1"},[t._v(" "+t._s(t._f("simplePersian")(t._f("persianDateTime")(t.passenger.BirthDate,"/"),t.$i18n.locale))+" ")])]),t.isExtraService||t.passenger.extraSrv?t._e():e(l["a"],{attrs:{cols:"6"}},[e("div",{staticClass:"grey--text text--darken-1"},[t._v(t._s(t.$t("passportNumber")))]),t.isForeign||"IR"!=t.passenger.Document.DocIssueCountry?e("div",{staticClass:"pt-1"},[t._v(" "+t._s(t.passenger.Document.DocID)+" ")]):e("div",{staticClass:"pt-1"},[t._v("--")])]),"cip"!=t.service?e(l["a"],[e("div",{staticClass:"grey--text text--darken-1"},[t._v(" "+t._s(t.$t("passportExpireDate"))+" ")]),t.isForeign||"IR"!=t.passenger.Document.DocIssueCountry?e("div",{staticClass:"pt-1"},[t._v(" "+t._s(t.passenger.Document.ExpireDate.split("-").join("/"))+" ")]):e("div",{staticClass:"pt-1"},[t._v("--")])]):t._e(),t.passenger.Comment?e(l["a"],{attrs:{cols:"12"}},[e("div",{staticStyle:{color:"#656565b0"}},[t._v(t._s(t.$t("description")))]),t._v(" "+t._s(t.passenger.Comment)+" ")]):t._e()],1)],1)},D=[],T=s("2613"),W=function(){var t=function(e,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])},t(e,s)};return function(e,s){if("function"!==typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(a.prototype=s.prototype,new a)}}(),B=function(t,e,s,a){var i,r=arguments.length,n=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(t,e,s,a);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(n=(r<3?i(n):r>3?i(e,s,n):i(e,s))||n);return r>3&&n&&Object.defineProperty(e,s,n),n},A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return W(e,t),B([Object(_["c"])()],e.prototype,"passenger",void 0),B([Object(_["c"])()],e.prototype,"index",void 0),B([Object(_["c"])()],e.prototype,"isExtraService",void 0),B([Object(_["c"])()],e.prototype,"isForeign",void 0),B([Object(_["c"])()],e.prototype,"service",void 0),B([Object(_["c"])({default:"white"})],e.prototype,"theme",void 0),e=B([Object(_["a"])({})],e),e}(Object(_["b"])(T["a"])),N=A,O=N,R=(s("2fde"),s("2877")),E=Object(R["a"])(O,S,D,!1,null,null,null),j=E.exports,M=s("b2e7"),F=s("31ba"),L=s("47d6"),U=s("baa9"),H=s("79c4"),z=s("2dd9"),q=s("f60c"),G=s("2f62"),V=s("3ef0"),Y=s("40a4"),J=s("b65d"),Q=s("fb3a"),Z=s("09a8"),K=s("db44"),X=s("a63a"),tt=s("f291"),et=s("6d8e"),st=s("d55d"),at=s("02d3"),it=s("2703"),rt=s("d344"),nt=s("b530"),ot=s("5679"),lt=s("bf7b"),ct=s("30f4"),dt=s("b5ae"),ut=function(){var t=function(e,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])},t(e,s)};return function(e,s){if("function"!==typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(a.prototype=s.prototype,new a)}}(),pt=function(){return pt=Object.assign||function(t){for(var e,s=1,a=arguments.length;s<a;s++)for(var i in e=arguments[s],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},pt.apply(this,arguments)},ht=function(t,e,s,a){var i,r=arguments.length,n=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(t,e,s,a);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(n=(r<3?i(n):r>3?i(e,s,n):i(e,s))||n);return r>3&&n&&Object.defineProperty(e,s,n),n},ft=function(t,e,s,a){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,r){function n(t){try{l(a.next(t))}catch(e){r(e)}}function o(t){try{l(a["throw"](t))}catch(e){r(e)}}function l(t){t.done?s(t.value):i(t.value).then(n,o)}l((a=a.apply(t,e||[])).next())}))},mt=function(t,e){var s,a,i,r,n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(t){return function(e){return l([t,e])}}function l(r){if(s)throw new TypeError("Generator is already executing.");while(n)try{if(s=1,a&&(i=2&r[0]?a["return"]:r[0]?a["throw"]||((i=a["return"])&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return n.label++,{value:r[1],done:!1};case 5:n.label++,a=r[1],r=[0];continue;case 7:r=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){n=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){n.label=r[1];break}if(6===r[0]&&n.label<i[1]){n.label=i[1],i=r;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(r);break}i[2]&&n.ops.pop(),n.trys.pop();continue}r=e.call(t,n)}catch(o){r=[6,o],a=0}finally{s=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};_["a"].registerHooks(["validations"]);var yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alertText="",e.alertColor="",e.showWallet=0,e.showCredit=0,e.bank=null,e.ticketPrice={},e.startTimer=!0,e.infExist=!1,e.childExist=!1,e.accessDenied=!1,e.showPortal=!0,e.ticketLoading=!1,e.wallet=!1,e.credit=!1,e.userCredit=0,e.userCreditContractAmount=0,e.normalBalanceCredit=!1,e.contractBalanceCredit=!1,e.disabledCredit=!1,e.userWallet=0,e.userWalletContractAmount=0,e.normalBalanceWallet=!1,e.contractBalanceWallet=!1,e.disabledWallet=!1,e.buyers=[],e.accountId=null,e.panel=[0],e.rulesAndPolicesDialog=!1,e.rules=!1,e.groupedServices={flight:[],hotel:[],tour:[],cip:[],insurance:[],floatflight:[],floathotel:[]},e.pageLoading=!0,e.twoPhaseDataContract=!1,e.referenceId="",e.paymentMethods=[],e.hideWallet=!1,e.hideCredit=!1,e.hideBank=!1,e.goToAgency=!1,e.twoPhaseDataContractDate="",e.twoPhaseDataContractDateUTC="",e.disableTicket=!1,e.dialogs=[],e.addNewCreditDialog=!1,e.addNewWalletDialog=!1,e.totalPrice=0,e.paymentMethodsPanel=[2],e.SMSData={DeepLink:1,SendEmail:0,Emails:[{Email:""}],Mobiles:[{Mobile:"",MobileCode:""}],Message:""},e.contractExpireDate=[],e.sendingTwoPhaseSMS=!1,e.twoPhaseExpired=!1,e.expiryCheckInterval=null,e}return ut(e,t),e.prototype.validations=function(){return{SMSData:{Mobiles:{$each:{Mobile:{customRequired:function(t){return t||this.SMSData.SendEmail||!1}}}},Emails:{$each:{Email:{customRequired:function(t){return t||!this.SMSData.SendEmail||!1},email:dt["email"]}}}}}},e.prototype.getContractData=function(){return ft(this,void 0,void 0,(function(){var t=this;return mt(this,(function(e){return this.$store.commit("automationStore/setBookResponse",[]),this.$store.commit("automationStore/removeCart"),[2,new Promise((function(e,s){t.axios.get(t.$store.state.baseUrl+"contractlist?&perPage=1&QueryType=ContractNo&q="+t.contractNo).then((function(a){var i,r;a.data.Success&&1===a.data.Items.length?(t.contractExpireDate=null===(r=null===(i=a.data.Items[0])||void 0===i?void 0:i.expiredAt)||void 0===r?void 0:r.split(" "),t.$store.commit("automationStore/setSelectedUser",{accountId:a.data.Items[0].ForAccountId,name:a.data.Items[0].Owner,mobileCode:a.data.Items[0].MobileCode,mobile:a.data.Items[0].Mobile,email:a.data.Items[0].Email,username:a.data.Items[0].Username}),t.twoPhaseDataContract=1===a.data.Items[0].TwoPhase,t.twoPhaseDataContractDate=1===a.data.Items[0].TwoPhase?a.data.Items[0].expiredAt:"",t.twoPhaseDataContractDateUTC=1===a.data.Items[0].TwoPhase?a.data.Items[0].expiredAtUtc:"",a.data.Items[0].Invoices[0].Services.map((function(e){var s,i;if(t.$store.commit("setBookPriceBeforeAfter",{key:"before",val:a.data.Items[0].amount}),t.$store.commit("setBookPriceBeforeAfter",{key:"after",val:a.data.Items[0].amount}),1===e.ServiceId)t.$store.commit("automationStore/setCart",pt(pt({service:"flight"},e.Data.Item),{AirItinerary:[{CombinationId:e.Data.Item.CombinationId,ExtraService:e.Data.Item.ExtraService,RecommendationId:e.Data.Item.RecommendationId,SessionId:e.Data.Item.SessionId,SubsystemId:e.Data.Item.SubsystemId,SubsystemName:e.Data.Item.SubsystemName}],passenger:t.changePassengerObjectsForTicket(e.Passengers)})),(null===(i=null===(s=e.Passengers)||void 0===s?void 0:s[0])||void 0===i?void 0:i.ReferenceId)&&(t.referenceId=e.Passengers[0].ReferenceId);else if(2===e.ServiceId){var r=e.Data.Item.Combinations.Rooms.map((function(t,s){return pt(pt({},t),{Passengers:e.Data.Rooms[s].TravelerInfo.AirTraveler})}));t.$store.commit("automationStore/setCart",{service:"hotel",HotelItinerary:e.Data.Item.Combinations.HotelItinerary,HotelInfo:e.Data.Item.HotelInfo,TravelInfo:e.Data.Item.TravelInfo,Rooms:r})}else 3===e.ServiceId?t.$store.commit("automationStore/setCart",pt(pt({service:"insurance"},e.Data.Item),{InsuranceItinerary:{CombinationId:e.Data.Item.CombinationId,ExtraService:e.Data.Item.ExtraService,RecommendationId:e.Data.Item.RecommendationId,SessionId:e.Data.Item.SessionId,SubsystemId:e.Data.Item.SubsystemId,SubsystemName:e.Data.Item.SubsystemName},passenger:t.changePassengerObjectsForTicket(e.Passengers)})):4===e.ServiceId?(t.$store.commit("automationStore/setCart",pt(pt({service:"tour"},e.Data.Item),{TourItinerary:{CombinationId:e.Data.Item.CombinationId,ExtraService:e.Data.Item.ExtraService,RecommendationId:e.Data.Item.RecommendationId,SessionId:e.Data.Item.SessionId,SubsystemId:e.Data.Item.SubsystemId,SubsystemName:e.Data.Item.SubsystemName},TourInfo:e.Data.Item,passenger:t.changePassengerObjectsForTicket(e.Passengers)})),t.referenceId=e.Passengers[0].ReferenceId):6===e.ServiceId?(t.$store.commit("automationStore/setCart",pt(pt({service:"floatvisa"},e.Data.Item),{VisaItinerary:{CombinationId:e.Data.Item.CombinationId,ExtraService:e.Data.Item.ExtraService,RecommendationId:e.Data.Item.RecommendationId,SessionId:e.Data.Item.SessionId,SubsystemId:e.Data.Item.SubsystemId,SubsystemName:e.Data.Item.SubsystemName},passenger:t.changePassengerObjectsForTicket(e.Passengers)})),t.referenceId=e.Passengers[0].ReferenceId):7===e.ServiceId?(t.$store.commit("automationStore/setCart",pt(pt({service:"floatactivity"},e.Data.Item),{ActivityItinerary:{CombinationId:e.Data.Item.CombinationId,ExtraService:e.Data.Item.ExtraService,RecommendationId:e.Data.Item.RecommendationId,SessionId:e.Data.Item.SessionId,SubsystemId:e.Data.Item.SubsystemId,SubsystemName:e.Data.Item.SubsystemName},passenger:t.changePassengerObjectsForTicket(e.Passengers)})),t.referenceId=e.Passengers[0].ReferenceId):8===e.ServiceId?(t.$store.commit("automationStore/setCart",pt(pt({service:"cip"},e.Data.Item),{CipItinerary:{CombinationId:e.Data.Item.CombinationId,ExtraService:e.Data.Item.ExtraService,RecommendationId:e.Data.Item.RecommendationId,SessionId:e.Data.Item.SessionId,SubsystemId:e.Data.Item.SubsystemId,SubsystemName:e.Data.Item.SubsystemName},FlightInfo:pt(pt({},e.Data.Item.CipInfo.FlightInfo),{Date:e.Data.Item.CipInfo.FlightInfo.DateTime.split(" ")[0],Time:e.Data.Item.CipInfo.FlightInfo.DateTime.split(" ")[1],AirlineIata:{name:e.Data.Item.CipInfo.FlightInfo.AirlineEn},AirportCode:{airportNameFa:e.Data.Item.CipInfo.FlightInfo.AirportFa,airportNameEn:e.Data.Item.CipInfo.FlightInfo.AirportEn}}),ExtraService:[],passenger:t.changePassengerObjectsForTicket(e.Passengers)})),t.referenceId=e.Passengers[0].ReferenceId):9===e.ServiceId&&(t.$store.commit("automationStore/setCart",pt(pt({service:"floattransfer"},e.Data.Item),{TransferItinerary:{CombinationId:e.Data.Item.CombinationId,ExtraService:e.Data.Item.ExtraService,RecommendationId:e.Data.Item.RecommendationId,SessionId:e.Data.Item.SessionId,SubsystemId:e.Data.Item.SubsystemId,SubsystemName:e.Data.Item.SubsystemName},passenger:t.changePassengerObjectsForTicket(e.Passengers)})),t.referenceId=e.Passengers[0].ReferenceId);t.$store.commit("automationStore/setBookResponse",{ContractInfo:{Amount:a.data.Items[0].amount}}),a.data.Items[0].contacts.forEach((function(e,s){var a,i;(e.Email||e.Telephone)&&t.buyers.push({index:null===(a=t.$options.filters)||void 0===a?void 0:a.simplePersian(s,t.$i18n.locale),email:e.Email?e.Email:"--",phoneNumber:e.Telephone?null===(i=t.$options.filters)||void 0===i?void 0:i.simplePersian(e.Telephone.CountryAccessCode+"-"+e.Telephone.PhoneNumber,t.$i18n.locale):"--"})}))})),e("Done")):s("ACCESS DENIED")})).catch((function(t){console.log(t),s("ERROR OCCURED")}))}))]}))}))},e.prototype.changePassengerObjectsForTicket=function(t){return t.map((function(t){return{PersonName:{GivenName:t.GivenName,NamePrefix:t.NamePrefix,Surname:t.SurName},Document:{DocID:t.PassportNO,DocIssueCountry:t.Nationality,ExpireDate:t.PassportExpireDate},NationalId:t.NationalId,BirthDate:t.BirthDate,PassengerTypeCode:t.PassengerTypeCode,Comment:t.Comment}}))},e.prototype.created=function(){var t=this;this.accountId=+this.$route.query.forAccountId,Promise.all([this.getWallet(),this.getCredit(),this.getPortals()]).then((function(e){var s=e[0],a=e[1],i=e[2];console.log("Wallet:",s),console.log("Credit:",a),console.log("portal:",i),t.pageLoading=!1,t.$set(t,"goToAgency",t.hideWallet&&t.hideCredit&&t.hideBank),console.log("hideWallet:",t.hideWallet),console.log("hideCredit:",t.hideCredit),console.log("hideBank:",t.hideBank),t.$nextTick((function(){console.log("goToAgency:",t.goToAgency)})),t.paymentMethods=[{icon:"global",title:t.$t("firstLevelTitle"),goToAgency:t.goToAgency,component:lt["a"]},{icon:"City",title:t.$t("secLevelTitle"),goToAgency:!1,component:ct["a"]}]})).catch((function(t){console.error(t)})),this.$store.dispatch("authStore/frontLog",{route:this.$route.path,accountId:this.accountId?this.accountId:null,event:"created-TwoPhaseTicket-all",createdAt:Date.now(),message:{contractNo:this.contractNo,currencyToPay:this.currencyToPay,showCurrency:this.showCurrency,currencyConvert:this.currencyConvert,finalPrice:this.finalPrice}})},Object.defineProperty(e.prototype,"twoPhaseDate",{get:function(){return this.twoPhaseData.isTwoPhase?this.getDateFormat(this.utcToGreg(this.twoPhaseData.TTL).join(" "),"datetime","j","g").split(" "):""},enumerable:!1,configurable:!0}),e.prototype.mounted=function(){this.$vuetify.goTo(0),this.twoPhaseDataContractDate&&this.startExpiryTimer()},e.prototype.checkTwoPhaseExpiry=function(){if(this.twoPhaseDataContractDate){var t=new Date,e=new Date(this.twoPhaseDataContractDate);this.twoPhaseExpired=t>=e}else this.twoPhaseExpired=!1},e.prototype.startExpiryTimer=function(){var t=this;this.checkTwoPhaseExpiry(),this.expiryCheckInterval=setInterval((function(){t.checkTwoPhaseExpiry()}),1e3)},e.prototype.stopExpiryTimer=function(){this.expiryCheckInterval&&(clearInterval(this.expiryCheckInterval),this.expiryCheckInterval=null)},e.prototype.handlePageDisplay=function(t,e,s){var a=this;void 0===e&&(e=null),void 0===s&&(s={}),null===e&&(e=this.user),e&&e.accountId&&e.accountId!==s.accountId?(this.pageLoading=!0,this.getContractData().then((function(){a.pageLoading=!1,a.accessDenied=!1,a.groupedServices=a.cnLodash.groupBy(a.cart,"service"),a.getCredit(),a.getWallet()})).catch((function(t){a.pageLoading=!1,"ACCESS DENIED"===t?a.accessDenied=!0:a.$toast.error(a.$t("thereIsAnError"))}))):(e.accountId!==s.accountId||this.cnLodash.isEmpty(e))&&this.$emit("openAuthDialog")},e.prototype.hidePortals=function(t){this.showPortal=t,t||(this.bank=null)},e.prototype.getCipTitleLang=function(t){var e=this,s=this.cnLodash.cloneDeep(t);return s=s.CipInfo.Title.filter((function(t){return t.lang.toLowerCase()==e.$i18n.locale}))[0].name,s},e.prototype.getInsuranceTitleLang=function(t){var e=this.cnLodash.cloneDeep(t);return e="fa"==this.$i18n.locale?e.InsuranceInfo.CountryNameFa:e.InsuranceInfo.CountryNameEn,e},e.prototype.otherImageUrl=function(t){return window.location.origin+"/wp-content/plugins/citynet/assets/other/"+t},e.prototype.stayNights=function(t,e){var s=new Date(t),a=new Date(e),i=864e5,r=a.getTime()-s.getTime(),n=Math.round(r/i);return this.$t("tourTitle",[n,n+1])},Object.defineProperty(e.prototype,"extraServices",{get:function(){var t=[],e=this.cnLodash.cloneDeep(this.cart);e.filter((function(t){return"cip"==t.service})).map((function(e){return t.push.apply(t,e.ExtraService)})),t=t.map((function(t,e){return{Title:t.Items.CipInfo.Title,Description:t.Items.CipInfo.Desciption,ServiceId:e,Price:t.Items.CipItineraryPricingInfo.ItinTotalFare.TotalFare,Currency:t.Items.CipItineraryPricingInfo.ItinTotalFare.Currency,CipItinerary:t.Items.CipItinerary,Data:{Admin:"",Customer:t.Items.CipInfo.ServiceInputLabel}}})),t=this.cnLodash.groupBy(t,"Title[0].name");for(var s=[],a=0,i=Object.entries(t);a<i.length;a++){var r=i[a],n=(r[0],r[1]);s.push(pt({Quantity:n.length},n[0]))}return s},enumerable:!1,configurable:!0}),e.prototype.goToHomePage=function(){window.location.href=this.differentLanguage?"/"+this.siteLanguage:"/"},e.prototype.getCredit=function(){return ft(this,void 0,void 0,(function(){var t,e,s,a;return mt(this,(function(i){switch(i.label){case 0:t=this.currencyToPay?this.currencyToPay:this.guestUser.data.defaultCurrency,e=this.$store.state.baseUrl+"ledgers?Type=credit&Currency="+t,this.contractNo&&(e+="&ContractNo="+this.contractNo),this.accountId&&(e+="&AccountId="+this.accountId),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.axios.get(e)];case 2:return s=i.sent(),this.userCredit=s.data.Items,this.userCreditContractAmount=s.data.ContractAmount,this.hideCredit=this.wpHideCredit&&!this.userCredit&&!this.userCreditContractAmount&&"visitor"===this.user.roleType||this.groupedServices.train,console.log("hideCredit",!0===this.hideCredit?"yes":"no"),this.isOnCredit(),[2,this.userCredit];case 3:return a=i.sent(),console.error(a),[2,null];case 4:return[2]}}))}))},e.prototype.getWallet=function(){return ft(this,void 0,void 0,(function(){var t,e,s,a;return mt(this,(function(i){switch(i.label){case 0:t=this.currencyToPay?this.currencyToPay:this.guestUser.data.defaultCurrency,e=this.$store.state.baseUrl+"ledgers?Type=wallet&Currency="+t,this.contractNo&&(e+="&ContractNo="+this.contractNo),this.accountId&&(e+="&AccountId="+this.accountId),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.axios.get(e)];case 2:return s=i.sent(),this.userWallet=s.data.Items,this.userWalletContractAmount=s.data.ContractAmount,this.hideWallet=this.wpHideWallet&&!this.userWallet&&!this.userWalletContractAmount&&"visitor"===this.user.roleType||this.groupedServices.train,console.log("hideWallet",!0===this.hideWallet?"yes":"no"),this.isOnWallet(),[2,this.userWallet];case 3:return a=i.sent(),console.error(a),[2,null];case 4:return[2]}}))}))},e.prototype.getPortals=function(){return ft(this,void 0,void 0,(function(){var t,e,s,a,i;return mt(this,(function(r){switch(r.label){case 0:t="ticket",e=[],s={},r.label=1;case 1:return r.trys.push([1,3,,4]),a="".concat(this.$store.state.baseUrl,"bank/portal").concat("all"===t?"?type=all":"").concat("all"===t?"":"?currency=").concat("all"===t?"":this.bankCurrency.Abbr),[4,this.axios.get(a)];case 2:return i=r.sent(),i.data.success?i.data.Items.some((function(t){return t.isDefault}))||"all"===t?(e=i.data.Items,e.length?(s=e.find((function(t){return t.isDefault}))||null,console.log("have-portal"),this.hideBank=this.wpHideBank&&!s&&"visitor"===this.user.roleType,console.log("hideBank ",this.hideBank)):(s=null,this.hideBank=this.wpHideBank&&!s&&"visitor"===this.user.roleType,console.log("hideBank ",this.hideBank)),[2,e]):(console.log("no-portal"),s=null,this.hideBank=this.wpHideBank&&!s&&"visitor"===this.user.roleType,console.log("hideBank ",this.hideBank),[2,s]):(s=null,this.hideBank=this.wpHideBank&&!s&&"visitor"===this.user.roleType,console.log("hideBank ",this.hideBank),[2,s]);case 3:return r.sent(),this.$toast.error(this.$t("errorRegisteringBankPortal")),s=null,this.hideBank=this.wpHideBank&&!s&&"visitor"===this.user.roleType,console.log("hideBank ",this.hideBank),[2,s];case 4:return[2]}}))}))},e.prototype.changeBankLoading=function(t){this.ticketLoading=t},e.prototype.ticketCondition=function(){this.ticketLoading=!0;var t,e=this.bookPriceBeforeAfter.after,s="";t=this.currencyToPay?this.currencyToPay:this.guestUser.data.defaultCurrency,this.credit&&this.wallet&&this.userCredit+this.userWallet+this.userCreditContractAmount+this.userWalletContractAmount>=e*this.currencyConvert||this.credit&&this.userCredit+this.userCreditContractAmount>=e*this.currencyConvert||this.wallet&&this.userWallet+this.userWalletContractAmount>=e*this.currencyConvert?(s="flights/ticket?ContractNo="+this.contractNo+"&Sign=&Credit="+this.normalBalanceCredit+"&Wallet="+this.normalBalanceWallet+"&Currency="+t+"&ContractCredit="+this.contractBalanceCredit+"&ContractWallet="+this.contractBalanceWallet,this.ticket(s,!1)):this.ticket(s,!0)},e.prototype.ticket=function(t,e){return ft(this,void 0,void 0,(function(){var s,a=this;return mt(this,(function(i){return e?this.cnLodash.isEmpty(this.bank)?this.wallet||this.credit?(this.ticketLoading=!1,this.$toast.error(this.$t("ticketValueIsMore"))):(this.ticketLoading=!1,this.$toast.error(this.$t("pleaseCheckOneOfTheOptions"))):(this.$store.dispatch("authStore/frontLog",{route:this.$route.path,accountId:this.accountId?this.accountId:null,event:"goBank-TwoPhaseTicket",createdAt:Date.now(),message:{saleOrderId:this.contractNo}}),this.$refs.bankSelect.goBank()):(s=this.contractNo,this.$store.dispatch("authStore/frontLog",{route:this.$route.path,accountId:this.accountId?this.accountId:null,event:"method-TwoPhaseTicket",createdAt:Date.now(),message:{saleOrderId:this.contractNo}}),this.$store.dispatch("authStore/frontLog",{route:this.$route.path,accountId:this.user?this.user.accountId:null,event:"before-TwoPhaseTicket-called",createdAt:Date.now(),contractNo:s,url:t}),this.axios.get(this.$store.state.baseUrl+t).then((function(t){a.$store.dispatch("authStore/frontLog",{route:a.$route.path,accountId:a.user?a.user.accountId:null,event:"TwoPhaseTicket-called",createdAt:Date.now(),contractNo:s}),a.$store.commit("flightStore/setSign",""),a.$store.commit("automationStore/removeCart"),a.$store.commit("automationStore/setBookResponse",[]),a.$store.commit("automationStore/setIsAutomation",!1);var e=a.$router.resolve({name:"contracts",query:{ContractNo:s,Ticketed:"true"}});window.open(e.href,"_self")})).catch((function(t){a.$store.dispatch("authStore/frontLog",{route:a.$route.path,accountId:a.accountId?a.accountId:null,event:"error-TwoPhaseTicket",createdAt:Date.now(),message:{error:t.response.data,contractNo:s}}),alert(a.$t("errorRegisteringTicket")+JSON.stringify(t.response.data)),a.ticketLoading=!1}))),[2]}))}))},Object.defineProperty(e.prototype,"noBankAndBudgets",{get:function(){var t=this.bookPriceBeforeAfter.after;return!(this.credit&&this.wallet&&this.userCredit+this.userCreditContractAmount+this.userWallet+this.userWalletContractAmount>=t*this.currencyConvert)&&(!(this.credit&&this.userCredit+this.userCreditContractAmount>=t*this.currencyConvert)&&(!(this.wallet&&this.userWallet+this.userWalletContractAmount>=t*this.currencyConvert)&&!!this.cnLodash.isEmpty(this.bank)))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showCurrency",{get:function(){return"fa"==this.$i18n.locale?this.$store.state.authStore.currentCurrency.ToCurrencyAbbFa:this.$t(this.$store.state.authStore.currentCurrency.ToCurrencyAbb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currencyConvert",{get:function(){return this.$store.state.authStore.currentCurrency.Amount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currencyToPay",{get:function(){return this.$store.state.authStore.currentCurrency.ToCurrencyAbb},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bookPriceBeforeAfter",{get:function(){return console.log("Book Price Before",this.$store.state.bookPriceBeforeAfter.before),console.log("Book Price After",this.$store.state.bookPriceBeforeAfter.after),this.$store.state.bookPriceBeforeAfter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finalPrice",{get:function(){var t,e,s=this.bookPriceBeforeAfter.after*this.currencyConvert,a=this.bookPriceBeforeAfter.before*this.currencyConvert,i=s-a;if(console.log("totalAmountChanged",i),i<0?(this.alertText="".concat(this.$t("ticketPriceMsg1",[null===(t=this.$options.filters)||void 0===t?void 0:t.price(Math.abs(i).toString()),this.showCurrency,this.$discount])),this.alertColor="green"):i>0?(this.alertText="".concat(this.$t("ticketPriceMsg2",[null===(e=this.$options.filters)||void 0===e?void 0:e.price(s),this.showCurrency])),this.alertColor="warning"):this.alertText="",this.totalPrice=s,console.log("this.showWallet",this.showWallet),console.log("this.showCredit",this.showCredit),console.log(" this.totalPrice",this.totalPrice),0===this.showWallet&&0===this.showCredit)return this.totalPrice;if(0===this.showWallet&&0!==this.showCredit)return this.totalPrice-this.showCredit;if(0!==this.showWallet&&0===this.showCredit)return this.totalPrice-this.showWallet;if(0!==this.showWallet&&0!==this.showCredit){var r=this.totalPrice-this.showWallet;return this.showCredit-r>=0?(this.showCredit=r,0):Math.abs(this.showCredit-r)}},enumerable:!1,configurable:!0}),e.prototype.isOnWallet=function(){this.normalBalanceWallet&&!this.contractBalanceWallet?this.totalPrice<=this.userWallet?this.showWallet=this.totalPrice:this.showWallet=this.userWallet:!this.normalBalanceWallet&&this.contractBalanceWallet?this.totalPrice<=this.userWalletContractAmount?this.showWallet=this.totalPrice:this.showWallet=this.userWalletContractAmount:this.normalBalanceWallet&&this.contractBalanceWallet?this.totalPrice<=this.userWallet+this.userWalletContractAmount?this.showWallet=this.totalPrice:this.showWallet=this.userWallet+this.userWalletContractAmount:this.showWallet=0,0==this.showWallet?this.wallet=!1:this.wallet=!0,console.log("showWallet",this.showWallet)},e.prototype.isOnCredit=function(){this.normalBalanceCredit&&!this.contractBalanceCredit?this.totalPrice<=this.userCredit?this.showCredit=this.totalPrice:this.showCredit=this.userCredit:!this.normalBalanceCredit&&this.contractBalanceCredit?this.totalPrice<=this.userCreditContractAmount?this.showCredit=this.totalPrice:this.showCredit=this.userCreditContractAmount:this.normalBalanceCredit&&this.contractBalanceCredit?this.totalPrice<=this.userCredit+this.userCreditContractAmount?this.showCredit=this.totalPrice:this.showCredit=this.userCredit+this.userCreditContractAmount:this.showCredit=0,0==this.showCredit?this.credit=!1:this.credit=!0,console.log("showCredit",this.showCredit)},Object.defineProperty(e.prototype,"contractNo",{get:function(){return this.$route.query.contractNo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bankCurrency",{get:function(){return{Abbr:this.currencyToPay,Id:this.$store.state.authStore.currentCurrency.Id}},enumerable:!1,configurable:!0}),e.prototype.addNewCredit=function(){this.dialogs.push("AddNewCreditDialog"),this.addNewCreditDialog=!0},e.prototype.addNewWallet=function(){this.dialogs.push("AddNewWalletDialog"),this.addNewWalletDialog=!0},Object.defineProperty(e.prototype,"wpHideWallet",{get:function(){return this.$store.state.authStore.base.peymentedMethod.hideWallet[this.$i18n.locale]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wpHideCredit",{get:function(){return this.$store.state.authStore.base.peymentedMethod.hideCredit[this.$i18n.locale]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wpHideBank",{get:function(){return this.$store.state.authStore.base.peymentedMethod.hideBank[this.$i18n.locale]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contractBalanceVisible",{get:function(){var t;return"visitor"!==(null===(t=this.user)||void 0===t?void 0:t.roleType)||0!==this.userCreditContractAmount||0!==this.userWalletContractAmount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mobileNo",{get:function(){return this.isAutomation?this.selectedUser.mobile&&"--"!=this.selectedUser.mobile?{mobile:this.selectedUser.mobile,code:this.selectedUser.mobileCode}:"":this.user.mobile?{mobile:this.user.mobile,code:this.user.mobileCode}:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emailAdd",{get:function(){return this.isAutomation?this.selectedUser.Email&&"--"!=this.selectedUser.Email?this.selectedUser.Email:"":this.user.email||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userName",{get:function(){return this.isAutomation?this.selectedUser.DefaultUsername?this.selectedUser.DefaultUsername:this.selectedUser.username:this.user.username},enumerable:!1,configurable:!0}),e.prototype.prepareTwoPhaseSMS=function(){var t=this.$router.resolve({path:"/ticket",query:{contractNo:this.contractNo,forAccountId:this.accountId}});if(this.mobileNo?(this.$set(this.SMSData,"SendEmail",0),this.$set(this.SMSData.Mobiles[0],"Mobile",this.mobileNo.mobile),this.$set(this.SMSData.Mobiles[0],"MobileCode",this.mobileNo.code)):this.emailAdd&&(this.$set(this.SMSData,"SendEmail",1),this.$set(this.SMSData.Emails[0],"Email",this.emailAdd)),this.$v.$touch(),this.$v.$error)this.$toast.error(this.$t("thereIsAnError"));else{if(this.SMSData.Mobiles[0].Mobile.startsWith(this.SMSData.Mobiles[0].MobileCode)){var e=new RegExp("^(".concat(this.SMSData.Mobiles[0].MobileCode,")"));this.$set(this.SMSData.Mobiles[0],"Mobile",this.SMSData.Mobiles[0].Mobile.replace(e,""))}this.$set(this.SMSData.Mobiles[0],"Mobile","".concat(parseInt(this.SMSData.Mobiles[0].Mobile))),this.sendingTwoPhaseSMS=!0;var s="".concat(this.user.data.agency_name,"\n            ").concat(this.contractNo,"          . \n\n").concat(window.location.origin+t.href,"\n\n   ").concat(this.getDateFormat(this.contractExpireDate[0],"jYYYY/jMM/jDD","j"),"  ").concat(this.contractExpireDate[1]);this.SMSData.Message=s,this.sendTwoPhaseSMS()}},e.prototype.sendTwoPhaseSMS=function(){return ft(this,void 0,void 0,(function(){var t,e,s;return mt(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),t=this.cnLodash.cloneDeep(this.SMSData),t.SendEmail?delete t.Mobiles:delete t.Emails,[4,this.axios.post("".concat(this.$store.state.baseUrl,"report/sendsms"),t)];case 1:return e=a.sent(),e.data.Success?this.$toast.success(this.$t("SMS/EmailSuccess")):this.$toast.error(this.$t("thereIsAnError")),this.sendingTwoPhaseSMS=!1,[3,3];case 2:return s=a.sent(),console.log(s),this.$toast.error(this.$t("thereIsAnError")),this.sendingTwoPhaseSMS=!1,[3,3];case 3:return[2]}}))}))},e.prototype.dialogsChange=function(){var t=this;0==this.dialogs.length&&Promise.all([this.getWallet(),this.getCredit(),this.getPortals()]).then((function(e){t.contractBalanceCredit=t.userCreditContractAmount>0,t.normalBalanceCredit=t.userCredit>0,t.contractBalanceWallet=t.userWalletContractAmount>0,t.normalBalanceWallet=t.userWallet>0,t.isOnWallet(),t.isOnCredit()})).catch((function(t){console.error(t)}))},e.prototype.onTwoPhaseDateChange=function(t){this.stopExpiryTimer(),t?this.startExpiryTimer():this.twoPhaseExpired=!1},e.prototype.showCreditChange=function(){0===this.showCredit&&this.isOnWallet()},e.prototype.showWalletChange=function(){0===this.showWallet&&this.isOnCredit()},e.prototype.closeDialog=function(t){this.dialogs.splice(t,1),this.addNewCreditDialog=!1,this.addNewWalletDialog=!1,this.getCredit(),this.getWallet()},e.prototype.changeCurrentCurrency=function(){this.user&&(this.getCredit(),this.getWallet())},e.prototype.userChanged=function(t,e){return ft(this,void 0,void 0,(function(){return mt(this,(function(s){return this.handlePageDisplay("done",t,e),[2]}))}))},ht([Object(_["e"])("dialogs")],e.prototype,"dialogsChange",null),ht([Object(_["e"])("twoPhaseDataContractDate")],e.prototype,"onTwoPhaseDateChange",null),ht([Object(_["e"])("showCredit")],e.prototype,"showCreditChange",null),ht([Object(_["e"])("showWallet")],e.prototype,"showWalletChange",null),ht([Object(_["e"])("currentCurrency")],e.prototype,"changeCurrentCurrency",null),ht([Object(_["e"])("user",{immediate:!0})],e.prototype,"userChanged",null),e=ht([Object(_["a"])({computed:pt({},Object(G["b"])({token:"authStore/token",user:"authStore/user",currentCurrency:"authStore/currentCurrency",guestUser:"authStore/guestUser",seconds:"timer",isAutomation:"automationStore/isAutomation",selectedUser:"automationStore/selectedUser",bookResponse:"automationStore/bookResponse",cart:"automationStore/cart",differentLanguage:"authStore/differentLanguage",siteLanguage:"authStore/siteLanguage",twoPhaseData:"twoPhaseData"})),components:{AppCounter:k["a"],automationUserInfo:Q["a"],TicketTravelInfo:z["a"],ticketPassangers:j,DataSection:X["a"],travelInfo:q["a"],cipDescriptions:tt["a"],cipRules:et["a"],HotelPassengersTable:$["a"],ticketPriceDetailsForFlight:F["a"],ticketPriceDetailsForHotel:M["a"],ticketPriceDetailsForCip:L["a"],ticketPriceDetailsForInsurance:U["a"],cipsSingleResult:Y["a"],insurancesSingleResult:J["a"],FlightInfoTable:st["a"],rules:Z["a"],bill:H["a"],hotel:K["a"],BankSelect:V["a"],Notice:ot["a"],First:lt["a"],Second:ct["a"],CurrenciesMenuInticket:P["default"],AddNewCreditDialog:rt["a"],AddNewWalletDialog:nt["a"],TwoPhaseSMSDialog:I["a"]}})],e),e}(Object(_["b"])(at["a"],it["a"])),Ct=yt,gt=Ct,bt=(s("f0b7"),Object(R["a"])(gt,x,w,!1,null,"4737a06a",null));e["default"]=bt.exports},f0b7:function(t,e,s){"use strict";s("a7eb")}}]);